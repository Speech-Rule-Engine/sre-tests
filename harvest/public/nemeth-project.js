!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Nemeth=e():t.Nemeth=e()}(this,(()=>(()=>{"use strict";var t={647:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NemethProjectUser=e.NemethProjectPath=e.NemethProjectDocuments=e.FeedbackStatus=e.Interaction=e.TestsCollection=e.NemethCollection=e.NemethProject=e.NemethUrl=void 0,e.NemethUrl="https://nemeth-project.firebaseio.com",e.NemethProject="nemeth-project",e.NemethCollection="nemeth",e.TestsCollection="tests",e.Interaction="InteractionStatus",e.FeedbackStatus="feedback",e.NemethProjectDocuments=e.NemethProject+"::documents",e.NemethProjectPath=e.NemethProject+"::path",e.NemethProjectUser=e.NemethProject+"::user"},416:function(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,o){function r(t){try{c(s.next(t))}catch(t){o(t)}}function a(t){try{c(s.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}c((s=s.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.FireTest=void 0;const i=n(647),o=n(900);e.FireTest=class{constructor(t,e,n,s,i){this.db=t,this.collection=e,this.doc=n,this.getTest=s,this.setTest=i,this.update=!0,this.countTests=0,this.preparedTests=[]}getData(){return this._data}currentTest(){return this.preparedTests[this.countTests]}prepareTests(){return s(this,void 0,void 0,(function*(){this._data=yield o.downloadData(this.db,this.collection,this.doc),this.order=this._data.order,this.tests=this._data.tests;for(const t of this.order){const e=this.tests[t];e.brf="",e.unicode="",this.preparedTests.push(e)}}))}saveTest(t){return s(this,void 0,void 0,(function*(){const e=this.currentTest();let n=null;for(const s of Object.keys(t))e[s]!==t[s]&&(n=2),e[s]=t[s];2===n&&(e[i.Interaction]=n,this.update&&o.updateData(this.db,this.collection,this.doc,e,["tests",e.name])),n||e[i.Interaction]||(e[i.Interaction]=1,this.update&&o.updateData(this.db,this.collection,this.doc,e[i.Interaction],["tests",e.name,i.Interaction]))}))}saveFeedback(t){return s(this,void 0,void 0,(function*(){const e=this.currentTest();o.updateData(this.db,this.collection,this.doc,t,["tests",e.name,i.FeedbackStatus])}))}cycleTests(t){return s(this,void 0,void 0,(function*(){yield this.saveTest(this.getTest()),this.setTest(this.nextTest(t))}))}cycleUnchangedTests(t){return s(this,void 0,void 0,(function*(){yield this.saveTest(this.getTest()),this.setTest(this.jumpTest(t,(t=>2!==t)))}))}cycleNewTests(t){return s(this,void 0,void 0,(function*(){yield this.saveTest(this.getTest()),this.setTest(this.jumpTest(t,(t=>0===t)))}))}goTest(t){return s(this,void 0,void 0,(function*(){yield this.saveTest(this.getTest());const e=this.order.indexOf(t);-1!==e&&(this.countTests=e,this.setTest(this.currentTest()))}))}nextTest(t){return this.countTests=this.countTests+(t?1:-1),this.countTests<0&&(this.countTests=this.preparedTests.length-1),this.countTests>=this.preparedTests.length&&(this.countTests=0),this.currentTest()}jumpTest(t,e){const n=this.countTests;for(;!e(this.nextTest(t)[i.Interaction])&&this.countTests!==n;);return n!==this.countTests?this.currentTest():this.nextTest(t)}}},900:function(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,o){function r(t){try{c(s.next(t))}catch(t){o(t)}}function a(t){try{c(s.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}c((s=s.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.restoreField=e.updateField=e.updateCollection=e.getPaths=e.setPath=e.downloadData=e.updateData=e.uploadData=e.verbose=void 0;const i=n(647);function o(t){e.verbose&&console.log(t)}function r(t,e,n,i){return s(this,void 0,void 0,(function*(){t.collection(e).doc(n).set(i).then((()=>{o(`Data for document ${n} successfully uploaded to collection ${e}`)})).catch((t=>{o(`Uploading data to document ${n} in collection ${e} failed with: ${t}`)}))}))}function a(t,e,n,i,r){return s(this,void 0,void 0,(function*(){const s={};s[r.join(".")]=i,t.collection(e).doc(n).update(s).then((()=>{o(`Data successfully updated in collection ${e} with path ${n}`)})).catch((t=>{o(`Updating data in collection ${e} with path ${n} failed with: ${t}`)}))}))}function c(t,e,n){return s(this,void 0,void 0,(function*(){return(yield t.collection(e).doc(n).get()).data()}))}function d(t,e,n,i=!0){return s(this,void 0,void 0,(function*(){const s=n.split("/")[0];let o=(yield t.collection(e).doc(s).get()).data();o||(o={}),o[n]=i,r(t,e,s,o)}))}function l(t,e,n){return s(this,void 0,void 0,(function*(){const s=n.split("/")[0];return(yield t.collection(e).doc(s).get()).data()}))}function u(t){for(const e of Object.values(t.tests))h(e)}function h(t){t[i.Interaction]=0}function f(t){for(const e of Object.values(t.tests))p(e)}function p(t){t[i.FeedbackStatus]=0}e.verbose=!1,e.uploadData=r,e.updateData=a,e.downloadData=c,e.setPath=d,e.getPaths=l,e.updateCollection=function(t,e,n,i,o=((t,e)=>{})){return s(this,void 0,void 0,(function*(){const s=[],m=yield l(t,e,i);if(!m)return s;const v=yield l(t,n,i);for(const[i,[l,T]]of Object.entries(m)){if(o(i,Object.keys(m)),s.push({name:l,information:T,path:i}),v&&v[i]&&!i.match(/^nemeth\/rules/))continue;const b=yield c(t,e,i),g=yield c(t,n,i);if(!g){u(b),f(b),yield r(t,n,i,b),yield d(t,n,i);continue}const y=g.tests;for(const e of b.order){if(y[e])continue;const s=b.tests[e];h(s),p(s),yield a(t,n,i,s,["tests",e])}yield a(t,n,i,b.order,["order"])}return s}))},e.updateField=function(t,e,n,i,o){return s(this,void 0,void 0,(function*(){const s=yield c(t,e,n);for(const r of s.order)yield a(t,e,n,o,["tests",r,i])}))},e.restoreField=function(t,e,n,i,o){return s(this,void 0,void 0,(function*(){const s=yield c(t,e,i),r=yield c(t,n,i);if(r)for(const e of r.order){const r=s.tests[e];if(!r)continue;const c=r[o];void 0!==c&&(yield a(t,n,i,c,["tests",e,o]))}}))}},986:function(t,e){var n=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,o){function r(t){try{c(s.next(t))}catch(t){o(t)}}function a(t){try{c(s.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}c((s=s.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.harvest=e.init=e.updateAccess=e.access=e.backwardBtn=e.forwardBtn=void 0;class s{constructor(t){this.direction=t,this.span=s.createElement("btns"),this.f=s.createElement("btn f",this.direction+" element"),this.ff=s.createElement("btn ff",this.direction+" unchanged element"),this.fff=s.createElement("btn fff",this.direction+" unviewed element"),this.span.id=t;const e="next"===t?[this.f,this.ff,this.fff]:[this.fff,this.ff,this.f];for(const n of e)n.classList.add(t),n.setAttribute("tabindex","0"),this.span.appendChild(n);this.hide()}static createElement(t,e=""){const n=document.createElement("span");return n.className=t,e&&(n.title=e,n.setAttribute("aria-label",e)),n}show(){this.f.classList.remove("hidden"),this.ff.classList.remove("hidden"),this.fff.classList.remove("hidden")}hide(){this.f.classList.add("hidden"),this.ff.classList.add("hidden"),this.fff.classList.add("hidden")}}function i(t,e){t.addEventListener("click",e),t.addEventListener("keyup",(t=>{"Enter"===t.key&&e(t)}))}function o(t){i(e.backwardBtn.f,(()=>n(this,void 0,void 0,(function*(){return yield t.cycleTests(!1)})))),i(e.backwardBtn.ff,(()=>n(this,void 0,void 0,(function*(){return yield t.cycleUnchangedTests(!1)})))),i(e.backwardBtn.fff,(()=>n(this,void 0,void 0,(function*(){return yield t.cycleNewTests(!1)})))),i(e.forwardBtn.f,(()=>n(this,void 0,void 0,(function*(){return yield t.cycleTests(!0)})))),i(e.forwardBtn.ff,(()=>n(this,void 0,void 0,(function*(){return yield t.cycleUnchangedTests(!0)})))),i(e.forwardBtn.fff,(()=>n(this,void 0,void 0,(function*(){return yield t.cycleNewTests(!0)}))))}e.forwardBtn=new s("next"),e.backwardBtn=new s("previous"),e.access=new class{constructor(){this.anchor=s.createElement("btn center","access"),this.select=document.createElement("select"),this.select.id="access",this.select.classList.add("access"),this.anchor.appendChild(this.select)}init(t){this.test=t,this.select.addEventListener("change",(t=>{this.test.goTest(t.target.value)}));for(const t of this.test.order){const e=document.createElement("option");e.setAttribute("value",t),e.classList.add("access"),e.textContent=t,this.select.appendChild(e)}this.update()}update(){this.select.value=this.test.currentTest().name}},e.updateAccess=function(){e.access.update()},e.init=function(t){o(t);const n=document.createElement("div");n.classList.add("btns"),document.body.appendChild(n),n.appendChild(e.backwardBtn.span),e.backwardBtn.show(),e.access.init(t),n.appendChild(e.access.anchor);const r=s.createElement("btn center","selection");r.textContent="Selection",r.setAttribute("tabindex","0"),i(r,(()=>{t.saveTest(t.getTest()),window.location.assign("selection.html")})),n.appendChild(r),n.appendChild(e.forwardBtn.span),e.forwardBtn.show()},e.harvest=function(t,n=(()=>{})){o(t);const r=document.createElement("div");r.classList.add("btns"),document.body.appendChild(r),r.appendChild(e.backwardBtn.span),e.backwardBtn.show(),e.access.init(t),r.appendChild(e.access.anchor);const a=s.createElement("btn center","selection");a.textContent="Save",a.setAttribute("tabindex","0"),i(a,(()=>{t.saveTest(t.getTest()),n()})),r.appendChild(a),r.appendChild(e.forwardBtn.span),e.forwardBtn.show()}},362:function(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,o){function r(t){try{c(s.next(t))}catch(t){o(t)}}function a(t){try{c(s.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}c((s=s.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.generateMath=e.initHarvest=e.harvest=e.changeFeedback=e.changeFormat=e.generatem=e.generate=e.init=e.fireTest=void 0;const i=n(647),o=n(416),r=n(532),a=n(986),c=n(243),d=new Map([["NABT",new r.Nabt2Unicode],["BLDT",new r.Bldt2Unicode],["NABT-TABLE",new r.Nabt2UnicodeTable],["BLDT-TABLE",new r.Bldt2UnicodeTable],["SDF/JKL",new r.Ascii2Braille("","")],["1-6",new r.Numeric2Braille("","")]]),l=new Map([["NABT",new r.Unicode2Nabt],["BLDT",new r.Unicode2Bldt],["SDF/JKL",new r.Braille2Ascii("","")],["1-6",new r.Braille2Numeric("","")]]);let u="NABT";function h(){return d.get(u.toUpperCase())}const f={};e.fireTest=null;let p="";function m(t){var e;f.mathname.innerHTML=t.name,f.mathexpression.innerHTML=t.input?`<math display="block">${t.input}</math>`:t.tex?`\\[${t.tex}\\]`:`${t.name}`,f.braille.innerHTML=t.expected,f.input.value=(console.log(8),console.log(u.toUpperCase()),l.get(u.toUpperCase())).via(t.expected),f.input.focus(),function(t){if(f.refname.innerHTML="",f.references.innerHTML="",!t)return;const e=Object.keys(t).sort(((t,e)=>{const n=parseInt(t.split("-")[1],10),s=parseInt(e.split("-")[1],10);return n<s?-1:n>s?1:0})),n=e.length;if(!n)return;f.refname.innerHTML="References:";const s=[],i=n>10?T:v;for(const n of e){const e=t[n];s.push(i(n,e))}if(n<=10)return void f.references.append(...s);const o=document.createElement("select");o.setAttribute("onChange",'window.open(this.value, "_blank")'),o.classList.add("access");const r=document.createElement("option");r.setAttribute("disabled",""),r.setAttribute("selected",""),r.textContent="Select:",o.appendChild(r),o.append(...s),f.references.appendChild(o)}(t.reference),b(t[i.Interaction]),void 0!==(e=t[i.FeedbackStatus])&&(f.feedback.value=e.toString()),MathJax.typeset&&MathJax.typeset(),(0,a.updateAccess)()}function v(t,e){const n=document.createElement("a");return n.classList.add("reflink"),n.setAttribute("href",e),n.setAttribute("target","_blank"),n.textContent=t,n}function T(t,e){const n=document.createElement("option");return n.classList.add("access"),n.textContent=t,n.value=e,n}function b(t){if(void 0!==t&&f.statuscolor&&f.statusvalue)switch(t){case 0:f.statuscolor.className="green",f.statusvalue.innerHTML="New";break;case 1:f.statuscolor.className="yellow",f.statusvalue.innerHTML="Viewed";break;case 2:f.statuscolor.className="red",f.statusvalue.innerHTML="Changed";break;default:f.statuscolor.className="",f.statusvalue.innerHTML=""}}function g(){return{expected:f.braille.innerHTML}}function y(t,n){firebase?function(t,n){s(this,void 0,void 0,(function*(){const s=firebase.app().firestore();e.fireTest=new o.FireTest(s,t,n,g,m),yield e.fireTest.prepareTests(),w(),(0,a.init)(e.fireTest),e.fireTest.setTest(e.fireTest.currentTest())}))}(t,n):setTimeout(y,100)}function w(){const t=document.evaluate("//*[@id]",document.body);for(let e=t.iterateNext();e;e=t.iterateNext())f[e.id]=e}function B(){const t=f.input;p!==t.value&&("SDF/JKL"===u.toUpperCase()&&function(){if(x)return;x=!0,setTimeout((()=>{x=!1,N();const t=f.input;","!==t.value[t.value.length-1]&&(t.value=t.value+",")}),100)}(),N())}e.init=function(){const t=c.getStorage(i.NemethProjectPath),e=c.getStorage(i.NemethProjectUser);t&&e&&y(e,t)},e.generate=B;let x=!1;function N(){const t=f.input,e=t.selectionStart;f.braille.innerHTML="",f.error.innerHTML="";let[n,s,i]=function(t){const[e,n]=h().cleanInput(t);return[e,h().via(e),n]}(t.value);i&&(f.error.innerHTML="Unknown "+(i.length>1?"elements ":"element ")+i),n!==p&&b(2),t.value=n,p=n,s=s.split("\n").join("<br>"),f.braille.innerHTML=s,t.selectionEnd=e-i.length}function j(){f.mathinput.value="",f.input.value="",C(),B()}function k(t,n){return s(this,void 0,void 0,(function*(){const s=firebase.app().firestore();e.fireTest=new o.FireTest(s,t,n,g,m),yield e.fireTest.prepareTests(),w(),(0,a.harvest)(e.fireTest,j),console.log(n),console.log(t)}))}e.generatem=function(){setTimeout(B,100)},e.changeFormat=function(){e.fireTest.saveTest(e.fireTest.getTest()),u=f.format.value,e.fireTest.setTest(e.fireTest.currentTest())},e.changeFeedback=function(){const t=parseInt(f.feedback.value,10);e.fireTest.currentTest()[i.FeedbackStatus]=t,e.fireTest.saveFeedback(t)},e.harvest=function(){const t=c.getStorage(i.NemethProjectPath),e=c.getStorage(i.NemethProjectUser);t&&e&&k(e,t)},e.initHarvest=k;let L="";function C(){const t=f.mathinput;var e;L!==t.value&&(L=t.value,e=t.value,f.mathexpression.innerHTML=`\\[${e}\\]`,MathJax.typeset&&MathJax.typeset())}e.generateMath=C},243:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.setStorage=e.getStorage=e.getFirebase=void 0,e.getFirebase=function(){return firebase},e.getStorage=function(t){return localStorage.getItem(t)},e.setStorage=function(t,e){localStorage.setItem(t,e)}},139:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getUid=e.addDocuments=e.addSection=void 0;const s=n(647),i=n(243);function o(t,e){const n=i.getStorage(s.NemethProjectDocuments);if(n){!function(t,e){t.sort(((t,e)=>(""+t.name).localeCompare(e.name)));for(const n of t){const t=document.createElement("tr");t.setAttribute("tabindex","0"),t.classList.add("selection"),t.innerHTML=`<td class="selection">${n.name}</td><td>${n.information}</td><td>${n.path}</td>`,t.addEventListener("click",(()=>{i.setStorage(s.NemethProjectPath,n.path),i.setStorage(s.NemethProjectUser,r()),window.location.assign("brf2nemeth.html")})),t.addEventListener("keyup",(t=>{"Enter"===t.key&&(i.setStorage(s.NemethProjectPath,n.path),i.setStorage(s.NemethProjectUser,r()),window.location.assign("brf2nemeth.html"))})),e.appendChild(t)}}(JSON.parse(n).filter((t=>t.path.match(e))),t)}}function r(){return i.getFirebase().auth().getUid()}e.addSection=function(t,e,n,s){n=`Select ${n} to work on:`;const i=document.createElement("hr");i.setAttribute("style","width:100%;border-width:0;background-color:#B1DF84;color:#B1DF84;height:6px");const r=document.createElement("div");r.classList.add("converter"),r.id=t+"table";const a=document.createElement("div");a.classList.add("section"),a.textContent=n;const c=function(t,e){const n=document.createElement("table");n.id=t;const s=document.createElement("tr");return s.classList.add("heading"),s.innerHTML="<th>Name</th><th>Information</th><th>Path</th>",n.appendChild(s),o(n,e),n}(t,e);r.append(a,c),s.append(i,r)},e.addDocuments=o,e.getUid=r},277:function(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,o){function r(t){try{c(s.next(t))}catch(t){o(t)}}function a(t){try{c(s.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}c((s=s.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.init=void 0;const i=n(647),o=n(900),r=n(243);function a(t){return s(this,void 0,void 0,(function*(){const e=document.createElement("span");e.textContent="Updating.",document.body.appendChild(e),yield function(t,e,n,a){return s(this,void 0,void 0,(function*(){let s=0;const c=document.createElement("div");document.body.appendChild(c);const d=yield o.updateCollection(t,e,n,a,((t,e)=>{const n=document.createElement("span");n.textContent=".",document.body.insertBefore(n,c),c.textContent=`File (${++s}/${e.length})`}));r.setStorage(i.NemethProjectDocuments,JSON.stringify(d))}))}(r.getFirebase().firestore(),i.TestsCollection,t.user.uid,i.NemethCollection),window.location.assign("selection.html")}))}const c={callbacks:{signInSuccessWithAuthResult:function(t){return a(t),!1},uiShown:function(){document.getElementById("loader").style.display="none"}},signInSuccessUrl:"brf2nemeth.html",signInOptions:[r.getFirebase().auth.EmailAuthProvider.PROVIDER_ID],tosUrl:"privacy.html",privacyPolicyUrl:"privacy.html"};e.init=function(t,e,n=c){new t.auth.AuthUI(r.getFirebase().auth()).start(e,n)}},967:(t,e)=>{function n(t){document.getElementById("user-signed-in").style.display="inline",document.getElementById("name").textContent=t.displayName,document.getElementById("email").textContent=t.email}function s(){document.getElementById("user-signed-in").style.display="none",window.location.replace(".")}function i(){window.confirm("Are you sure you want to delete your account?")&&firebase.auth().currentUser.delete().catch((t=>{"auth/requires-recent-login"===t.code&&firebase.auth().signOut().then((function(){setTimeout((function(){alert("Please sign in again to delete your account.")}),1)}))}))}function o(){const t=document.createElement("span");let e='<span id="user-signed-in" class="hidden">';e+='<span id="user-info"><span id="name"></span>',e+='(<span id="email"></span>)<div>',e+='<span><button id="sign-out">Sign Out</button></span>',e+='<span><button id="delete-account">Delete account</button></span>',e+="</div></span></span>",t.innerHTML='<span id="user-signed-in" class="hidden"><span id="user-info"><span id="name"></span>(<span id="email"></span>)<div><span><button id="sign-out">Sign Out</button></span><span><button id="delete-account">Delete account</button></span></div></span></span>',document.body.appendChild(t),document.getElementById("sign-out").addEventListener("click",(function(){firebase.auth().signOut()})),document.getElementById("delete-account").addEventListener("click",(function(){i()}))}Object.defineProperty(e,"__esModule",{value:!0}),e.init=e.addSpan=e.deleteAccount=e.handleSignedOutUser=e.handleSignedInUser=void 0,e.handleSignedInUser=n,e.handleSignedOutUser=s,e.deleteAccount=i,e.addSpan=o,e.init=function(){o(),firebase.auth().onAuthStateChanged((t=>{t?n(t):s()}))}},532:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Braille2Ascii=e.Braille2Numeric=e.Ascii2Braille=e.Numeric2Braille=e.Unicode2Bldt=e.Unicode2Nabt=e.Bldt2UnicodeTable=e.Nabt2UnicodeTable=e.Bldt2Unicode=e.Nabt2Unicode=e.Both2Unicode=void 0;const s=n(110);class i extends s.AbstractTransformer{constructor(t,e){super(t,e),this.translate=new Map,this.setupMap()}static getFormat(t){return t.toUpperCase().match(/^BLDT/)?i.format.BLDT:i.format.NABT}via(t){let e="";for(const n of t.split("")){const t=this.translate.get(n.toLowerCase());if(!t)throw new Error("Illegal input character: "+n);e+=t}return e}cleanInput(t){const e=[],n=[];for(const s of t.toLowerCase().split(""))void 0!==this.translate.get(s)?e.push(s):n.push(s);return[e.join(""),n.join(", ")]}}i.format={NABT:" a1b'k2l@cif/msp\"e3h9o6r^djg>ntq,*5<-u8v.%[$+x!&;:4\\0z7(_?w]#y)=",BLDT:" a1b'k2l`cif/msp\"e3h9o6r~djg>ntq,*5<-u8v.%{$+x!&;:4|0z7(_?w}#y)="};class o extends i{constructor(){super("expected",""),this.dst=this.kind()}setupMap(){let t=0;for(const e of i.getFormat(this.kind()).split(""))this.translate.set(String.fromCodePoint(10240+t++),e)}}class r extends i{constructor(){super("","expected"),this.src=this.kind()}setupMap(){let t=0;for(const e of i.getFormat(this.kind()).split(""))this.translate.set(e,String.fromCodePoint(10240+t++))}}e.Both2Unicode=class extends r{kind(){return"brf"}setupMap(){let t=i.format.NABT.split(""),e=i.format.BLDT.split("");for(let n,s,i=0;n=t[i],s=e[i];i++){let t=String.fromCodePoint(10240+i);this.translate.set(n,t),this.translate.set(s,t)}}};class a extends r{kind(){return"NABT"}}e.Nabt2Unicode=a;class c extends r{kind(){return"BLDT"}}e.Bldt2Unicode=c;e.Nabt2UnicodeTable=class extends a{kind(){return"NABT-TABLE"}via(t){const e=[];for(const n of t.split("\n"))e.push(super.via(n));return console.log(e.join("\n")),e.join("\n")}cleanInput(t){const e=[],n=[];for(const s of t.split("\n")){for(const t of s.toLowerCase().split(""))void 0!==this.translate.get(t)?e.push(t):n.push(t);e.push("\n")}return e.pop(),[e.join(""),n.join(", ")]}};e.Bldt2UnicodeTable=class extends c{kind(){return"BLDT-TABLE"}via(t){const e=[];for(const n of t.split("\n"))e.push(super.via(n));return console.log(e.join("\n")),e.join("\n")}cleanInput(t){const e=[],n=[];for(const s of t.split("\n")){for(const t of s.toLowerCase().split(""))void 0!==this.translate.get(t)?e.push(t):n.push(t);e.push("\n")}return e.pop(),[e.join(""),n.join(", ")]}};e.Unicode2Nabt=class extends o{kind(){return"NABT"}};e.Unicode2Bldt=class extends o{kind(){return"BLDT"}};class d extends i{via(t){return t.split(",").filter((t=>t)).map(this.toBraille.bind(this)).join("")}}class l extends i{via(t){return t.split("").map(this.fromBraille.bind(this)).join(",")}}class u extends d{kind(){return"1-6"}static numToBraille(t){const e={};let n=0;for(const s of t)!e[s]&&s>0&&s<9&&(n+=Math.pow(2,s-1)),e[s]=!0;const s=parseInt("2800",16);return String.fromCodePoint(s+n)}toBraille(t){return u.numToBraille(t.split("").map((t=>parseInt(t,10))).filter((t=>!isNaN(t))))}setupMap(){for(let t=0;t<=8;t++)this.translate.set(t.toString(),"T");this.translate.set(",","T")}}e.Numeric2Braille=u;e.Ascii2Braille=class extends u{kind(){return"sdf/jkl"}toBraille(t){const e=[];for(const n of t.split("")){const t=parseInt(this.translate.get(n),10);isNaN(t)||e.push(t)}return u.numToBraille(e)}setupMap(){this.translate=new Map([[",","T"],[" ","0"],["f","1"],["d","2"],["s","3"],["j","4"],["k","5"],["l","6"]])}};class h extends l{kind(){return"1-6"}static unicodeToNumber(t){let e=t.codePointAt(0)-10240;if(!e)return[0];const n=[];for(let t=1;t<=8;t++){e%2&&n.push(t),e=Math.floor(e/2)}return n}fromBraille(t){return h.unicodeToNumber(t).join("")}setupMap(){for(let t=0;t<=255;t++)this.translate.set(String.fromCodePoint(10240+t),"T")}}e.Braille2Numeric=h;e.Braille2Ascii=class extends h{constructor(){super(...arguments),this.trans={0:" ",1:"f",2:"d",3:"s",4:"j",5:"k",6:"l",7:"",8:""}}kind(){return"sdf/jkl"}fromBraille(t){return h.unicodeToNumber(t).map((t=>this.trans[t])).join("")}setupMap(){for(let t=0;t<=63;t++)this.translate.set(String.fromCodePoint(10240+t),"T")}via(t){return super.via(t)+","}}},110:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTransformer=void 0;e.AbstractTransformer=class{constructor(t,e){this.src=t,this.dst=e}via(t){return t}}}},e={};function n(s){var i=e[s];if(void 0!==i)return i.exports;var o=e[s]={exports:{}};return t[s].call(o.exports,o,o.exports,n),o.exports}var s={};return(()=>{var t=s;Object.defineProperty(t,"__esModule",{value:!0}),t.Signin=t.User=t.Select=t.Convert=void 0;const e=n(362),i=n(139),o=n(277),r=n(967);t.Convert=e,t.Select=i,t.User=r,t.Signin=o})(),s})()));
//# sourceMappingURL=nemeth-project.js.map