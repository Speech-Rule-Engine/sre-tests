!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Convert=e():t.Convert=e()}(this,(function(){return(()=>{"use strict";var t={95:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fireTest=e.changeFeedback=e.changeFormat=e.generatem=e.generate=e.convertInit=void 0;var r=n(362),i=n(967);e.convertInit=r.init,e.generate=r.generate,e.generatem=r.generatem,e.changeFormat=r.changeFormat,e.changeFeedback=r.changeFeedback,e.fireTest=r.fireTest,window.addEventListener("load",i.init)},647:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NemethProjectUser=e.NemethProjectPath=e.NemethProjectDocuments=e.FeedbackStatus=e.Interaction=e.TestsCollection=e.NemethCollection=e.NemethProject=e.NemethUrl=void 0,e.NemethUrl="https://nemeth-project.firebaseio.com",e.NemethProject="nemeth-project",e.NemethCollection="nemeth",e.TestsCollection="tests",e.Interaction="InteractionStatus",e.FeedbackStatus="feedback",e.NemethProjectDocuments=e.NemethProject+"::documents",e.NemethProjectPath=e.NemethProject+"::path",e.NemethProjectUser=e.NemethProject+"::user"},416:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.FireTest=void 0;var a=n(647),s=n(900),u=function(){function t(t,e,n,r,i){this.db=t,this.collection=e,this.doc=n,this.getTest=r,this.setTest=i,this.update=!0,this.countTests=0,this.preparedTests=[]}return t.prototype.getData=function(){return this._data},t.prototype.currentTest=function(){return this.preparedTests[this.countTests]},t.prototype.prepareTests=function(){return r(this,void 0,void 0,(function(){var t,e,n,r,a,u,c;return i(this,(function(i){switch(i.label){case 0:return t=this,[4,s.downloadData(this.db,this.collection,this.doc)];case 1:t._data=i.sent(),this.order=this._data.order,this.tests=this._data.tests;try{for(e=o(this.order),n=e.next();!n.done;n=e.next())r=n.value,(a=this.tests[r]).brf="",a.unicode="",this.preparedTests.push(a)}catch(t){u={error:t}}finally{try{n&&!n.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return[2]}}))}))},t.prototype.nextTest=function(t){return this.countTests=this.countTests+(t?1:-1),this.countTests<0&&(this.countTests=this.preparedTests.length-1),this.countTests>=this.preparedTests.length&&(this.countTests=0),this.currentTest()},t.prototype.jumpTest=function(t,e){for(var n=this.countTests;!e(this.nextTest(t)[a.Interaction])&&this.countTests!==n;);return n!==this.countTests?this.currentTest():this.nextTest(t)},t.prototype.saveTest=function(t){return r(this,void 0,void 0,(function(){var e,n,r,u,c,l,f;return i(this,(function(i){e=this.currentTest(),n=null;try{for(r=o(Object.keys(t)),u=r.next();!u.done;u=r.next())c=u.value,e[c]!==t[c]&&(n=2),e[c]=t[c]}catch(t){l={error:t}}finally{try{u&&!u.done&&(f=r.return)&&f.call(r)}finally{if(l)throw l.error}}return 2===n&&(e[a.Interaction]=n,this.update&&s.updateData(this.db,this.collection,this.doc,e,["tests",e.name])),n||e[a.Interaction]||(e[a.Interaction]=1,this.update&&s.updateData(this.db,this.collection,this.doc,e[a.Interaction],["tests",e.name,a.Interaction])),[2]}))}))},t.prototype.saveFeedback=function(t){return r(this,void 0,void 0,(function(){var e;return i(this,(function(n){return e=this.currentTest(),s.updateData(this.db,this.collection,this.doc,t,["tests",e.name,a.FeedbackStatus]),[2]}))}))},t.prototype.cycleTests=function(t){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.saveTest(this.getTest())];case 1:return e.sent(),this.setTest(this.nextTest(t)),[2]}}))}))},t.prototype.cycleUnchangedTests=function(t){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.saveTest(this.getTest())];case 1:return e.sent(),this.setTest(this.jumpTest(t,(function(t){return 2!==t}))),[2]}}))}))},t.prototype.cycleNewTests=function(t){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.saveTest(this.getTest())];case 1:return e.sent(),this.setTest(this.jumpTest(t,(function(t){return 0===t}))),[2]}}))}))},t}();e.FireTest=u},900:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.updateField=e.updateCollection=e.getPaths=e.setPath=e.downloadData=e.updateData=e.uploadData=e.verbose=void 0;var a=n(647);function s(t){e.verbose&&console.log(t)}function u(t,e,n,o){return r(this,void 0,void 0,(function(){return i(this,(function(r){return t.collection(e).doc(n).set(o).then((function(){s("Data for document "+n+" successfully uploaded to collection "+e)})).catch((function(t){s("Uploading data to document "+n+" in collection "+e+" failed with: "+t)})),[2]}))}))}function c(t,e,n,o,a){return r(this,void 0,void 0,(function(){var r,u;return i(this,(function(i){return r={},u=a.join("."),r[u]=o,t.collection(e).doc(n).update(r).then((function(){s("Data successfully updated in collection "+e+" with path "+n)})).catch((function(t){s("Updating data in collection "+e+" with path "+n+" failed with: "+t)})),[2]}))}))}function l(t,e,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,t.collection(e).doc(n).get()];case 1:return[2,r.sent().data()]}}))}))}function f(t,e,n){return r(this,void 0,void 0,(function(){var r,o,a;return i(this,(function(i){switch(i.label){case 0:return r=n.split("/")[0],[4,t.collection(e).doc(r).get()];case 1:return o=i.sent(),(a=o.data())||(a={}),a[n]=!0,u(t,e,r,a),[2]}}))}))}function d(t,e,n){return r(this,void 0,void 0,(function(){var r;return i(this,(function(i){switch(i.label){case 0:return r=n.split("/")[0],[4,t.collection(e).doc(r).get()];case 1:return[2,i.sent().data()]}}))}))}function h(t){t[a.Interaction]=0}function p(t){t[a.FeedbackStatus]=0}e.verbose=!0,e.uploadData=u,e.updateData=c,e.downloadData=l,e.setPath=f,e.getPaths=d,e.updateCollection=function(t,e,n,a){return r(this,void 0,void 0,(function(){var r,s,v,y,b,m,w,T,g,x,k,B,_,j,N,S,E,P;return i(this,(function(i){switch(i.label){case 0:return r=[],[4,d(t,e,a)];case 1:if(!(s=i.sent()))return[2,r];i.label=2;case 2:i.trys.push([2,20,21,22]),v=o(Object.keys(s)),y=v.next(),i.label=3;case 3:return y.done?[3,19]:(b=y.value,[4,l(t,e,b)]);case 4:return m=i.sent(),[4,l(t,n,b)];case 5:return w=i.sent(),r.push({name:m.name,information:m.information,path:b}),w?[3,8]:(function(t){var e,n;try{for(var r=o(Object.values(t.tests)),i=r.next();!i.done;i=r.next()){h(i.value)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}(m),function(t){var e,n;try{for(var r=o(Object.values(t.tests)),i=r.next();!i.done;i=r.next()){p(i.value)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}(m),[4,u(t,n,b,m)]);case 6:return i.sent(),[4,f(t,n,b)];case 7:return i.sent(),[3,18];case 8:T=w.tests,i.label=9;case 9:i.trys.push([9,14,15,16]),E=void 0,g=o(m.order),x=g.next(),i.label=10;case 10:return x.done?[3,13]:(k=x.value,T[k]?[3,12]:(h(B=m.tests[k]),p(B),[4,c(t,n,b,B,["tests",k])]));case 11:i.sent(),i.label=12;case 12:return x=g.next(),[3,10];case 13:return[3,16];case 14:return _=i.sent(),E={error:_},[3,16];case 15:try{x&&!x.done&&(P=g.return)&&P.call(g)}finally{if(E)throw E.error}return[7];case 16:return[4,c(t,n,b,m.order,["order"])];case 17:i.sent(),i.label=18;case 18:return y=v.next(),[3,3];case 19:return[3,22];case 20:return j=i.sent(),N={error:j},[3,22];case 21:try{y&&!y.done&&(S=v.return)&&S.call(v)}finally{if(N)throw N.error}return[7];case 22:return[2,r]}}))}))},e.updateField=function(t,e,n,a,s){return r(this,void 0,void 0,(function(){var r,u,f,d,h,p,v;return i(this,(function(i){switch(i.label){case 0:return[4,l(t,e,n)];case 1:r=i.sent(),i.label=2;case 2:i.trys.push([2,7,8,9]),u=o(r.order),f=u.next(),i.label=3;case 3:return f.done?[3,6]:(d=f.value,[4,c(t,e,n,s,["tests",d,a])]);case 4:i.sent(),i.label=5;case 5:return f=u.next(),[3,3];case 6:return[3,9];case 7:return h=i.sent(),p={error:h},[3,9];case 8:try{f&&!f.done&&(v=u.return)&&v.call(u)}finally{if(p)throw p.error}return[7];case 9:return[2]}}))}))}},986:function(t,e){var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.init=e.backwardBtn=e.forwardBtn=void 0;var o=function(){function t(e){var n,r;this.direction=e,this.span=t.createElement("btns"),this.f=t.createElement("btn f",this.direction+" element"),this.ff=t.createElement("btn ff",this.direction+" unchanged element"),this.fff=t.createElement("btn fff",this.direction+" unviewed element"),this.span.id=e;var o="next"===e?[this.f,this.ff,this.fff]:[this.fff,this.ff,this.f];try{for(var a=i(o),s=a.next();!s.done;s=a.next()){var u=s.value;u.classList.add(e),u.setAttribute("tabindex","0"),this.span.appendChild(u)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}this.hide()}return t.createElement=function(t,e){void 0===e&&(e="");var n=document.createElement("span");return n.className=t,e&&(n.title=e,n.setAttribute("aria-label",e)),n},t.prototype.show=function(){this.f.classList.remove("hidden"),this.ff.classList.remove("hidden"),this.fff.classList.remove("hidden")},t.prototype.hide=function(){this.f.classList.add("hidden"),this.ff.classList.add("hidden"),this.fff.classList.add("hidden")},t}();function a(t,e){t.addEventListener("click",e),t.addEventListener("keyup",(function(t){"Enter"===t.key&&e(t)}))}e.forwardBtn=new o("next"),e.backwardBtn=new o("previous"),e.init=function(t){!function(t){var i=this;a(e.backwardBtn.f,(function(){return n(i,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,t.cycleTests(!1)];case 1:return[2,e.sent()]}}))}))})),a(e.backwardBtn.ff,(function(){return n(i,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,t.cycleUnchangedTests(!1)];case 1:return[2,e.sent()]}}))}))})),a(e.backwardBtn.fff,(function(){return n(i,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,t.cycleNewTests(!1)];case 1:return[2,e.sent()]}}))}))})),a(e.forwardBtn.f,(function(){return n(i,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,t.cycleTests(!0)];case 1:return[2,e.sent()]}}))}))})),a(e.forwardBtn.ff,(function(){return n(i,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,t.cycleUnchangedTests(!0)];case 1:return[2,e.sent()]}}))}))})),a(e.forwardBtn.fff,(function(){return n(i,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return[4,t.cycleNewTests(!0)];case 1:return[2,e.sent()]}}))}))}))}(t);var i=document.createElement("div");i.classList.add("btns"),document.body.appendChild(i),i.appendChild(e.backwardBtn.span),e.backwardBtn.show();var s=o.createElement("btn center","selection");s.textContent="Selection",s.setAttribute("tabindex","0"),a(s,(function(){t.saveTest(t.getTest()),window.location.assign("selection.html")})),i.appendChild(s),i.appendChild(e.forwardBtn.span),e.forwardBtn.show()}},362:function(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.changeFeedback=e.changeFormat=e.generatem=e.generate=e.init=e.fireTest=void 0;var a=n(647),s=n(416),u=n(532),c=n(986),l=new Map([["NABT",new u.Nabt2Unicode],["BLDT",new u.Bldt2Unicode],["SDF/JKL",new u.Ascii2Braille("","")],["1-6",new u.Numeric2Braille("","")]]),f=new Map([["NABT",new u.Unicode2Nabt],["BLDT",new u.Unicode2Bldt],["SDF/JKL",new u.Braille2Ascii("","")],["1-6",new u.Braille2Numeric("","")]]),d="NABT";function h(){return l.get(d.toUpperCase())}var p={};e.fireTest=null;var v="";function y(t){var e;p.name.innerHTML=t.name,p.expression.innerHTML=t.input?'<math display="block">'+t.input+"</math>":"\\["+t.tex+"\\]",p.out.innerHTML=t.expected,p.ip.value=f.get(d.toUpperCase()).via(t.expected),p.ip.focus(),b(t[a.Interaction]),void 0!==(e=t[a.FeedbackStatus])&&(p.feedback.value=e.toString()),MathJax.typeset&&MathJax.typeset()}function b(t){if(void 0!==t)switch(t){case 0:p.statuscolor.className="green",p.statusvalue.innerHTML="New";break;case 1:p.statuscolor.className="yellow",p.statusvalue.innerHTML="Viewed";break;case 2:p.statuscolor.className="red",p.statusvalue.innerHTML="Changed";break;default:p.statuscolor.className="",p.statusvalue.innerHTML=""}}function m(){return{expected:p.out.innerHTML}}function w(){var t=p.ip;v!==t.value&&("SDF/JKL"===d.toUpperCase()&&function(){if(T)return;T=!0,setTimeout((function(){T=!1,g();var t=p.ip;","!==t.value[t.value.length-1]&&(t.value=t.value+",")}),100)}(),g())}e.init=function t(n,o){firebase?function(t,n){r(this,void 0,void 0,(function(){var r;return i(this,(function(i){switch(i.label){case 0:return r=firebase.app().firestore(),e.fireTest=new s.FireTest(r,t,n,m,y),[4,e.fireTest.prepareTests()];case 1:return i.sent(),p.ip=document.getElementById("input"),p.out=document.getElementById("braille"),p.error=document.getElementById("error"),p.format=document.getElementById("format"),p.expression=document.getElementById("mathexpression"),p.name=document.getElementById("mathname"),p.statuscolor=document.getElementById("statuscolor"),p.statusvalue=document.getElementById("statusvalue"),p.feedback=document.getElementById("feedback"),e.fireTest.setTest(e.fireTest.currentTest()),c.init(e.fireTest),[2]}}))}))}(n,o):setTimeout(t,100)},e.generate=w;var T=!1;function g(){var t=p.ip,e=t.selectionStart;p.out.innerHTML="",p.error.innerHTML="";var n=o(function(t){var e=o(h().cleanInput(t),2),n=e[0],r=e[1];return[n,h().via(n),r]}(t.value),3),r=n[0],i=n[1],a=n[2];a&&(p.error.innerHTML="Unknown "+(a.length>1?"elements ":"element ")+a),r!==v&&b(2),t.value=r,v=r,p.out.innerHTML=i,t.selectionEnd=e-a.length}e.generatem=function(){setTimeout(w,100)},e.changeFormat=function(){e.fireTest.saveTest(e.fireTest.getTest()),d=p.format.value,e.fireTest.setTest(e.fireTest.currentTest())},e.changeFeedback=function(){var t=parseInt(p.feedback.value,10);e.fireTest.currentTest()[a.FeedbackStatus]=t,e.fireTest.saveFeedback(t)}},967:(t,e)=>{function n(t){document.getElementById("user-signed-in").style.display="inline",document.getElementById("name").textContent=t.displayName,document.getElementById("email").textContent=t.email}function r(){document.getElementById("user-signed-in").style.display="none",window.location.replace(".")}function i(){window.confirm("Are you sure you want to delete your account?")&&firebase.auth().currentUser.delete().catch((function(t){"auth/requires-recent-login"===t.code&&firebase.auth().signOut().then((function(){setTimeout((function(){alert("Please sign in again to delete your account.")}),1)}))}))}function o(){var t=document.createElement("span");t.innerHTML='<span id="user-signed-in" class="hidden"><span id="user-info"><span id="name"></span>(<span id="email"></span>)<div><span><button id="sign-out">Sign Out</button></span><span><button id="delete-account">Delete account</button></span></div></span></span>',document.body.appendChild(t),document.getElementById("sign-out").addEventListener("click",(function(){firebase.auth().signOut()})),document.getElementById("delete-account").addEventListener("click",(function(){i()}))}Object.defineProperty(e,"__esModule",{value:!0}),e.init=e.addSpan=e.deleteAccount=e.handleSignedOutUser=e.handleSignedInUser=void 0,e.handleSignedInUser=n,e.handleSignedOutUser=r,e.deleteAccount=i,e.addSpan=o,e.init=function(){o(),firebase.auth().onAuthStateChanged((function(t){t?n(t):r()}))}},532:function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Braille2Ascii=e.Braille2Numeric=e.Ascii2Braille=e.Numeric2Braille=e.Unicode2Bldt=e.Unicode2Nabt=e.Bldt2Unicode=e.Nabt2Unicode=void 0;var a=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.translate=new Map,r.setupMap(),r}return i(e,t),e.getFormat=function(t){return"BLDT"===t.toUpperCase()?e.format.BLDT:e.format.NABT},e.prototype.via=function(t){var e,n,r="";try{for(var i=o(t.split("")),a=i.next();!a.done;a=i.next()){var s=a.value,u=this.translate.get(s.toLowerCase());if(!u)throw new Error("Illegal input character: "+s);r+=u}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},e.prototype.cleanInput=function(t){var e,n,r=[],i=[];try{for(var a=o(t.split("")),s=a.next();!s.done;s=a.next()){var u=s.value;void 0!==this.translate.get(u)?r.push(u):i.push(u)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return[r.join(""),i.join(", ")]},e.format={NABT:" a1b'k2l@cif/msp\"e3h9o6r^djg>ntq,*5<-u8v.%[$+x!&;:4\\0z7(_?w]#y)=",BLDT:" a1b'k2l`cif/msp\"e3h9o6r~djg>ntq,*5<-u8v.%{$+x!&;:4|0z7(_?w}#y)="},e}(n(110).AbstractTransformer),s=function(t){function e(){var e=t.call(this,"expected","")||this;return e.dst=e.kind(),e}return i(e,t),e.prototype.setupMap=function(){var t,e,n=0;try{for(var r=o(a.getFormat(this.kind()).split("")),i=r.next();!i.done;i=r.next()){var s=i.value;this.translate.set(String.fromCodePoint(10240+n++),s)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},e}(a),u=function(t){function e(){var e=t.call(this,"","expected")||this;return e.src=e.kind(),e}return i(e,t),e.prototype.setupMap=function(){var t,e,n=0;try{for(var r=o(a.getFormat(this.kind()).split("")),i=r.next();!i.done;i=r.next()){var s=i.value;this.translate.set(s,String.fromCodePoint(10240+n++))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},e}(a),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.kind=function(){return"NABT"},e}(u);e.Nabt2Unicode=c;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.kind=function(){return"BLDT"},e}(u);e.Bldt2Unicode=l;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.kind=function(){return"NABT"},e}(s);e.Unicode2Nabt=f;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.kind=function(){return"BLDT"},e}(s);e.Unicode2Bldt=d;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.via=function(t){return t.split(",").filter((function(t){return t})).map(this.toBraille.bind(this)).join("")},e}(a),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.via=function(t){return t.split("").map(this.fromBraille.bind(this)).join(",")},e}(a),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.kind=function(){return"1-6"},e.numToBraille=function(t){var e,n,r={},i=0;try{for(var a=o(t),s=a.next();!s.done;s=a.next()){var u=s.value;!r[u]&&u>0&&u<9&&(i+=Math.pow(2,u-1)),r[u]=!0}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}var c=parseInt("2800",16);return String.fromCodePoint(c+i)},e.prototype.toBraille=function(t){return e.numToBraille(t.split("").map((function(t){return parseInt(t,10)})).filter((function(t){return!isNaN(t)})))},e.prototype.setupMap=function(){for(var t=0;t<=8;t++)this.translate.set(t.toString(),"T");this.translate.set(",","T")},e}(h);e.Numeric2Braille=v;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.kind=function(){return"sdf/jkl"},e.prototype.toBraille=function(t){var e,n,r=[];try{for(var i=o(t.split("")),a=i.next();!a.done;a=i.next()){var s=a.value,u=parseInt(this.translate.get(s),10);isNaN(u)||r.push(u)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return v.numToBraille(r)},e.prototype.setupMap=function(){this.translate=new Map([[",","T"],[" ","0"],["f","1"],["d","2"],["s","3"],["j","4"],["k","5"],["l","6"]])},e}(v);e.Ascii2Braille=y;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.kind=function(){return"1-6"},e.unicodeToNumber=function(t){var e=t.codePointAt(0)-10240;if(!e)return[0];for(var n=[],r=1;r<=8;r++){e%2&&n.push(r),e=Math.floor(e/2)}return n},e.prototype.fromBraille=function(t){return e.unicodeToNumber(t).join("")},e.prototype.setupMap=function(){for(var t=0;t<=255;t++)this.translate.set(String.fromCodePoint(10240+t),"T")},e}(p);e.Braille2Numeric=b;var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.trans={0:" ",1:"f",2:"d",3:"s",4:"j",5:"k",6:"l",7:"",8:""},e}return i(e,t),e.prototype.kind=function(){return"sdf/jkl"},e.prototype.fromBraille=function(t){var e=this;return b.unicodeToNumber(t).map((function(t){return e.trans[t]})).join("")},e.prototype.setupMap=function(){for(var t=0;t<=63;t++)this.translate.set(String.fromCodePoint(10240+t),"T")},e.prototype.via=function(e){return t.prototype.via.call(this,e)+","},e}(b);e.Braille2Ascii=m},110:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTransformer=void 0;var n=function(){function t(t,e){this.src=t,this.dst=e}return t.prototype.via=function(t){return t},t}();e.AbstractTransformer=n}},e={};return function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}(95)})()}));
//# sourceMappingURL=braille-convert.js.map