{"version":3,"sources":["webpack://Convert/webpack/universalModuleDefinition","webpack://Convert/./ts/convert.ts","webpack://Convert/./ts/firebase/fire_constants.ts","webpack://Convert/./ts/firebase/fire_test.ts","webpack://Convert/./ts/firebase/fire_util.ts","webpack://Convert/./ts/frontend/buttons.ts","webpack://Convert/./ts/frontend/convert.ts","webpack://Convert/./ts/frontend/user.ts","webpack://Convert/./ts/generate/braille_transformer.ts","webpack://Convert/./ts/generate/transformers.ts","webpack://Convert/webpack/bootstrap","webpack://Convert/webpack/startup"],"names":["root","factory","exports","module","define","amd","this","Object","defineProperty","value","fireTest","changeFeedback","changeFormat","generatem","generate","convertInit","fb","user_1","init","window","addEventListener","NemethProjectUser","NemethProjectPath","NemethProjectDocuments","FeedbackStatus","Interaction","TestsCollection","NemethCollection","NemethProject","NemethUrl","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","__values","o","s","m","i","FireTest","FC","FU","db","collection","doc","getTest","setTest","update","countTests","preparedTests","prototype","getData","_data","currentTest","prepareTests","_a","_b","_c","key","test_1","e_1","_d","_e","downloadData","order","tests","brf","unicode","e_1_1","error","return","nextTest","direction","jumpTest","stop","currentCount","saveTest","values","test","status","e_2","keys","e_2_1","updateData","name","saveFeedback","feedback","cycleTests","cycleUnchangedTests","x","cycleNewTests","updateField","updateCollection","getPaths","setPath","uploadData","verbose","output","str","console","log","data","set","catch","path","nesting","entry","join","get","paths","split","setStatus","setFeedback","collA","collB","dataA","dataB","entryA","_f","_g","information","e_4","e_4_1","setTestsStatus","e_5","e_5_1","setTestsFeedback","field","e_3_1","e_3","backwardBtn","forwardBtn","Buttons","span","createElement","ff","fff","id","order_1","order_1_1","classList","add","setAttribute","appendChild","hide","cls","title","element","document","className","show","remove","addListener","button","method","_this","addListeners","div","up","textContent","location","assign","__read","r","ar","fire_test_1","BT","buttons_1","transformers","Map","Nabt2Unicode","Bldt2Unicode","Ascii2Braille","Numeric2Braille","backtransformers","Unicode2Nabt","Unicode2Bldt","Braille2Ascii","Braille2Numeric","kind","transformer","toUpperCase","current","innerHTML","expression","input","tex","out","expected","ip","via","focus","undefined","toString","MathJax","typeset","statuscolor","statusvalue","collating","setTimeout","processKeys","collateKeys","file","firebase","app","firestore","getElementById","format","initFile","cursor","selectionStart","cleanInput","translate","selectionEnd","parseInt","handleSignedInUser","user","style","display","displayName","email","handleSignedOutUser","replace","deleteAccount","confirm","auth","currentUser","delete","code","signOut","alert","addSpan","inner","onAuthStateChanged","extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","BrfTransformer","_super","src","dst","setupMap","getFormat","BLDT","NABT","toLowerCase","Error","char","AbstractTransformer","Unicode2Brf","count","String","fromCodePoint","Brf2Unicode","arguments","FromMultikey","filter","map","toBraille","bind","ToMultikey","fromBraille","numToBraille","list","duplicates","list_1","list_1_1","bit","Math","pow","base","isNaN","e_6","legal","trans","e_6_1","unicodeToNumber","hex","codePointAt","floor","0","1","2","3","4","5","6","7","8","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__"],"mappings":"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","file":"braille-convert.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Convert\"] = factory();\n\telse\n\t\troot[\"Convert\"] = factory();\n})(this, function() {\nreturn ","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fireTest = exports.changeFeedback = exports.changeFormat = exports.generatem = exports.generate = exports.convertInit = void 0;\nvar fb = require(\"./frontend/convert\");\nvar user_1 = require(\"./frontend/user\");\nexports.convertInit = fb.init;\nexports.generate = fb.generate;\nexports.generatem = fb.generatem;\nexports.changeFormat = fb.changeFormat;\nexports.changeFeedback = fb.changeFeedback;\nexports.fireTest = fb.fireTest;\nwindow.addEventListener('load', user_1.init);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NemethProjectUser = exports.NemethProjectPath = exports.NemethProjectDocuments = exports.FeedbackStatus = exports.Interaction = exports.TestsCollection = exports.NemethCollection = exports.NemethProject = exports.NemethUrl = void 0;\nexports.NemethUrl = 'https://nemeth-project.firebaseio.com';\nexports.NemethProject = 'nemeth-project';\nexports.NemethCollection = 'nemeth';\nexports.TestsCollection = 'tests';\nexports.Interaction = 'InteractionStatus';\nexports.FeedbackStatus = 'feedback';\nexports.NemethProjectDocuments = exports.NemethProject + '::documents';\nexports.NemethProjectPath = exports.NemethProject + '::path';\nexports.NemethProjectUser = exports.NemethProject + '::user';\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FireTest = void 0;\nvar FC = require(\"./fire_constants\");\nvar FU = require(\"./fire_util\");\nvar FireTest = (function () {\n    function FireTest(db, collection, doc, getTest, setTest) {\n        this.db = db;\n        this.collection = collection;\n        this.doc = doc;\n        this.getTest = getTest;\n        this.setTest = setTest;\n        this.update = true;\n        this.countTests = 0;\n        this.preparedTests = [];\n    }\n    FireTest.prototype.getData = function () {\n        return this._data;\n    };\n    FireTest.prototype.currentTest = function () {\n        return this.preparedTests[this.countTests];\n    };\n    FireTest.prototype.prepareTests = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, _b, _c, key, test_1;\n            var e_1, _d;\n            return __generator(this, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        _a = this;\n                        return [4, FU.downloadData(this.db, this.collection, this.doc)];\n                    case 1:\n                        _a._data = _e.sent();\n                        this.order = this._data.order;\n                        this.tests = this._data.tests;\n                        try {\n                            for (_b = __values(this.order), _c = _b.next(); !_c.done; _c = _b.next()) {\n                                key = _c.value;\n                                test_1 = this.tests[key];\n                                test_1.brf = '';\n                                test_1.unicode = '';\n                                this.preparedTests.push(test_1);\n                            }\n                        }\n                        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                        finally {\n                            try {\n                                if (_c && !_c.done && (_d = _b.return)) _d.call(_b);\n                            }\n                            finally { if (e_1) throw e_1.error; }\n                        }\n                        return [2];\n                }\n            });\n        });\n    };\n    FireTest.prototype.nextTest = function (direction) {\n        this.countTests = this.countTests + (direction ? 1 : -1);\n        if (this.countTests < 0) {\n            this.countTests = this.preparedTests.length - 1;\n        }\n        if (this.countTests >= this.preparedTests.length) {\n            this.countTests = 0;\n        }\n        return this.currentTest();\n    };\n    FireTest.prototype.jumpTest = function (direction, stop) {\n        var currentCount = this.countTests;\n        while (!stop(this.nextTest(direction)[FC.Interaction]) &&\n            this.countTests !== currentCount) { }\n        return currentCount !== this.countTests ? this.currentTest() :\n            this.nextTest(direction);\n    };\n    FireTest.prototype.saveTest = function (values) {\n        return __awaiter(this, void 0, void 0, function () {\n            var test, status, _a, _b, key;\n            var e_2, _c;\n            return __generator(this, function (_d) {\n                test = this.currentTest();\n                status = null;\n                try {\n                    for (_a = __values(Object.keys(values)), _b = _a.next(); !_b.done; _b = _a.next()) {\n                        key = _b.value;\n                        if (test[key] !== values[key]) {\n                            status = 2;\n                        }\n                        test[key] = values[key];\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_b && !_b.done && (_c = _a.return)) _c.call(_a);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n                if (status === 2) {\n                    test[FC.Interaction] = status;\n                    if (this.update) {\n                        FU.updateData(this.db, this.collection, this.doc, test, ['tests', test.name]);\n                    }\n                }\n                if (!status && !test[FC.Interaction]) {\n                    test[FC.Interaction] = 1;\n                    if (this.update) {\n                        FU.updateData(this.db, this.collection, this.doc, test[FC.Interaction], ['tests', test.name, FC.Interaction]);\n                    }\n                }\n                return [2];\n            });\n        });\n    };\n    FireTest.prototype.saveFeedback = function (feedback) {\n        return __awaiter(this, void 0, void 0, function () {\n            var test;\n            return __generator(this, function (_a) {\n                test = this.currentTest();\n                FU.updateData(this.db, this.collection, this.doc, feedback, ['tests', test.name, FC.FeedbackStatus]);\n                return [2];\n            });\n        });\n    };\n    FireTest.prototype.cycleTests = function (direction) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.saveTest(this.getTest())];\n                    case 1:\n                        _a.sent();\n                        this.setTest(this.nextTest(direction));\n                        return [2];\n                }\n            });\n        });\n    };\n    FireTest.prototype.cycleUnchangedTests = function (direction) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.saveTest(this.getTest())];\n                    case 1:\n                        _a.sent();\n                        this.setTest(this.jumpTest(direction, function (x) { return x !== 2; }));\n                        return [2];\n                }\n            });\n        });\n    };\n    FireTest.prototype.cycleNewTests = function (direction) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.saveTest(this.getTest())];\n                    case 1:\n                        _a.sent();\n                        this.setTest(this.jumpTest(direction, function (x) { return x === 0; }));\n                        return [2];\n                }\n            });\n        });\n    };\n    return FireTest;\n}());\nexports.FireTest = FireTest;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.updateField = exports.updateCollection = exports.getPaths = exports.setPath = exports.downloadData = exports.updateData = exports.uploadData = exports.verbose = void 0;\nvar FC = require(\"./fire_constants\");\nexports.verbose = true;\nfunction output(str) {\n    if (exports.verbose) {\n        console.log(str);\n    }\n}\nfunction uploadData(db, collection, doc, data) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            db.collection(collection).doc(doc).set(data).\n                then(function () {\n                output(\"Data for document \" + doc + \" successfully uploaded to collection \" + collection);\n            }).\n                catch(function (error) {\n                output(\"Uploading data to document \" + doc + \" in collection \" + collection + \" failed with: \" + error);\n            });\n            return [2];\n        });\n    });\n}\nexports.uploadData = uploadData;\nfunction updateData(db, collection, path, data, nesting) {\n    return __awaiter(this, void 0, void 0, function () {\n        var entry, key;\n        return __generator(this, function (_a) {\n            entry = {};\n            key = nesting.join('.');\n            entry[key] = data;\n            db.collection(collection).doc(path).update(entry).\n                then(function () {\n                output(\"Data successfully updated in collection \" + collection + \" with path \" + path);\n            }).\n                catch(function (error) {\n                output(\"Updating data in collection \" + collection + \" with path \" + path + \" failed with: \" + error);\n            });\n            return [2];\n        });\n    });\n}\nexports.updateData = updateData;\nfunction downloadData(db, collection, path) {\n    return __awaiter(this, void 0, void 0, function () {\n        var doc;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4, db.collection(collection).doc(path).get()];\n                case 1:\n                    doc = _a.sent();\n                    return [2, doc.data()];\n            }\n        });\n    });\n}\nexports.downloadData = downloadData;\nfunction setPath(db, collection, path) {\n    return __awaiter(this, void 0, void 0, function () {\n        var doc, paths, data;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    doc = path.split('/')[0];\n                    return [4, db.collection(collection).doc(doc).get()];\n                case 1:\n                    paths = _a.sent();\n                    data = paths.data();\n                    if (!data) {\n                        data = {};\n                    }\n                    data[path] = true;\n                    uploadData(db, collection, doc, data);\n                    return [2];\n            }\n        });\n    });\n}\nexports.setPath = setPath;\nfunction getPaths(db, collection, doc) {\n    return __awaiter(this, void 0, void 0, function () {\n        var path, paths;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    path = doc.split('/')[0];\n                    return [4, db.collection(collection).doc(path).get()];\n                case 1:\n                    paths = _a.sent();\n                    return [2, paths.data()];\n            }\n        });\n    });\n}\nexports.getPaths = getPaths;\nfunction updateCollection(db, collA, collB, doc) {\n    return __awaiter(this, void 0, void 0, function () {\n        var result, paths, _a, _b, path, dataA, dataB, tests, _c, _d, key, entryA, e_1_1, e_2_1;\n        var e_2, _e, e_1, _f;\n        return __generator(this, function (_g) {\n            switch (_g.label) {\n                case 0:\n                    result = [];\n                    return [4, getPaths(db, collA, doc)];\n                case 1:\n                    paths = _g.sent();\n                    if (!paths) {\n                        return [2, result];\n                    }\n                    _g.label = 2;\n                case 2:\n                    _g.trys.push([2, 20, 21, 22]);\n                    _a = __values(Object.keys(paths)), _b = _a.next();\n                    _g.label = 3;\n                case 3:\n                    if (!!_b.done) return [3, 19];\n                    path = _b.value;\n                    return [4, downloadData(db, collA, path)];\n                case 4:\n                    dataA = _g.sent();\n                    return [4, downloadData(db, collB, path)];\n                case 5:\n                    dataB = _g.sent();\n                    result.push({\n                        name: dataA.name,\n                        information: dataA.information,\n                        path: path\n                    });\n                    if (!!dataB) return [3, 8];\n                    setTestsStatus(dataA);\n                    setTestsFeedback(dataA);\n                    return [4, uploadData(db, collB, path, dataA)];\n                case 6:\n                    _g.sent();\n                    return [4, setPath(db, collB, path)];\n                case 7:\n                    _g.sent();\n                    return [3, 18];\n                case 8:\n                    tests = dataB.tests;\n                    _g.label = 9;\n                case 9:\n                    _g.trys.push([9, 14, 15, 16]);\n                    _c = (e_1 = void 0, __values(dataA.order)), _d = _c.next();\n                    _g.label = 10;\n                case 10:\n                    if (!!_d.done) return [3, 13];\n                    key = _d.value;\n                    if (tests[key]) {\n                        return [3, 12];\n                    }\n                    entryA = dataA.tests[key];\n                    setStatus(entryA);\n                    setFeedback(entryA);\n                    return [4, updateData(db, collB, path, entryA, ['tests', key])];\n                case 11:\n                    _g.sent();\n                    _g.label = 12;\n                case 12:\n                    _d = _c.next();\n                    return [3, 10];\n                case 13: return [3, 16];\n                case 14:\n                    e_1_1 = _g.sent();\n                    e_1 = { error: e_1_1 };\n                    return [3, 16];\n                case 15:\n                    try {\n                        if (_d && !_d.done && (_f = _c.return)) _f.call(_c);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                    return [7];\n                case 16: return [4, updateData(db, collB, path, dataA.order, ['order'])];\n                case 17:\n                    _g.sent();\n                    _g.label = 18;\n                case 18:\n                    _b = _a.next();\n                    return [3, 3];\n                case 19: return [3, 22];\n                case 20:\n                    e_2_1 = _g.sent();\n                    e_2 = { error: e_2_1 };\n                    return [3, 22];\n                case 21:\n                    try {\n                        if (_b && !_b.done && (_e = _a.return)) _e.call(_a);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                    return [7];\n                case 22: return [2, result];\n            }\n        });\n    });\n}\nexports.updateCollection = updateCollection;\nfunction updateField(db, collection, path, field, value) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, _a, _b, key, e_3_1;\n        var e_3, _c;\n        return __generator(this, function (_d) {\n            switch (_d.label) {\n                case 0: return [4, downloadData(db, collection, path)];\n                case 1:\n                    data = _d.sent();\n                    _d.label = 2;\n                case 2:\n                    _d.trys.push([2, 7, 8, 9]);\n                    _a = __values(data.order), _b = _a.next();\n                    _d.label = 3;\n                case 3:\n                    if (!!_b.done) return [3, 6];\n                    key = _b.value;\n                    return [4, updateData(db, collection, path, value, ['tests', key, field])];\n                case 4:\n                    _d.sent();\n                    _d.label = 5;\n                case 5:\n                    _b = _a.next();\n                    return [3, 3];\n                case 6: return [3, 9];\n                case 7:\n                    e_3_1 = _d.sent();\n                    e_3 = { error: e_3_1 };\n                    return [3, 9];\n                case 8:\n                    try {\n                        if (_b && !_b.done && (_c = _a.return)) _c.call(_a);\n                    }\n                    finally { if (e_3) throw e_3.error; }\n                    return [7];\n                case 9: return [2];\n            }\n        });\n    });\n}\nexports.updateField = updateField;\nfunction setTestsStatus(tests) {\n    var e_4, _a;\n    try {\n        for (var _b = __values(Object.values(tests.tests)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var entry = _c.value;\n            setStatus(entry);\n        }\n    }\n    catch (e_4_1) { e_4 = { error: e_4_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_4) throw e_4.error; }\n    }\n}\nfunction setStatus(entry) {\n    entry[FC.Interaction] = 0;\n}\nfunction setTestsFeedback(tests) {\n    var e_5, _a;\n    try {\n        for (var _b = __values(Object.values(tests.tests)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var entry = _c.value;\n            setFeedback(entry);\n        }\n    }\n    catch (e_5_1) { e_5 = { error: e_5_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_5) throw e_5.error; }\n    }\n}\nfunction setFeedback(entry) {\n    entry[FC.FeedbackStatus] = 0;\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.init = exports.backwardBtn = exports.forwardBtn = void 0;\nvar Buttons = (function () {\n    function Buttons(direction) {\n        var e_1, _a;\n        this.direction = direction;\n        this.span = Buttons.createElement('btns');\n        this.f = Buttons.createElement('btn f', this.direction + ' ' + 'element');\n        this.ff = Buttons.createElement('btn ff', this.direction + ' ' + 'unchanged element');\n        this.fff = Buttons.createElement('btn fff', this.direction + ' ' + 'unviewed element');\n        this.span.id = direction;\n        var order = direction === 'next' ? [this.f, this.ff, this.fff] :\n            [this.fff, this.ff, this.f];\n        try {\n            for (var order_1 = __values(order), order_1_1 = order_1.next(); !order_1_1.done; order_1_1 = order_1.next()) {\n                var span = order_1_1.value;\n                span.classList.add(direction);\n                span.setAttribute('tabindex', '0');\n                this.span.appendChild(span);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (order_1_1 && !order_1_1.done && (_a = order_1.return)) _a.call(order_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        this.hide();\n    }\n    Buttons.createElement = function (cls, title) {\n        if (title === void 0) { title = ''; }\n        var element = document.createElement('span');\n        element.className = cls;\n        if (title) {\n            element.title = title;\n            element.setAttribute('aria-label', title);\n        }\n        return element;\n    };\n    Buttons.prototype.show = function () {\n        this.f.classList.remove('hidden');\n        this.ff.classList.remove('hidden');\n        this.fff.classList.remove('hidden');\n    };\n    Buttons.prototype.hide = function () {\n        this.f.classList.add('hidden');\n        this.ff.classList.add('hidden');\n        this.fff.classList.add('hidden');\n    };\n    return Buttons;\n}());\nexports.forwardBtn = new Buttons('next');\nexports.backwardBtn = new Buttons('previous');\nfunction addListener(button, method) {\n    button.addEventListener('click', method);\n    button.addEventListener('keyup', function (e) {\n        if (e.key === 'Enter') {\n            method(e);\n        }\n    });\n}\nfunction addListeners(test) {\n    var _this = this;\n    addListener(exports.backwardBtn.f, function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4, test.cycleTests(false)];\n            case 1: return [2, _a.sent()];\n        }\n    }); }); });\n    addListener(exports.backwardBtn.ff, function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4, test.cycleUnchangedTests(false)];\n            case 1: return [2, _a.sent()];\n        }\n    }); }); });\n    addListener(exports.backwardBtn.fff, function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4, test.cycleNewTests(false)];\n            case 1: return [2, _a.sent()];\n        }\n    }); }); });\n    addListener(exports.forwardBtn.f, function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4, test.cycleTests(true)];\n            case 1: return [2, _a.sent()];\n        }\n    }); }); });\n    addListener(exports.forwardBtn.ff, function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4, test.cycleUnchangedTests(true)];\n            case 1: return [2, _a.sent()];\n        }\n    }); }); });\n    addListener(exports.forwardBtn.fff, function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4, test.cycleNewTests(true)];\n            case 1: return [2, _a.sent()];\n        }\n    }); }); });\n}\nfunction init(test) {\n    addListeners(test);\n    var div = document.createElement('div');\n    div.classList.add('btns');\n    document.body.appendChild(div);\n    div.appendChild(exports.backwardBtn.span);\n    exports.backwardBtn.show();\n    var up = Buttons.createElement('btn center', 'selection');\n    up.textContent = 'Selection';\n    up.setAttribute('tabindex', '0');\n    addListener(up, function () {\n        test.saveTest(test.getTest());\n        window.location.assign('selection.html');\n    });\n    div.appendChild(up);\n    div.appendChild(exports.forwardBtn.span);\n    exports.forwardBtn.show();\n}\nexports.init = init;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.changeFeedback = exports.changeFormat = exports.generatem = exports.generate = exports.init = exports.fireTest = void 0;\nvar FC = require(\"../firebase/fire_constants\");\nvar fire_test_1 = require(\"../firebase/fire_test\");\nvar BT = require(\"../generate/braille_transformer\");\nvar buttons_1 = require(\"./buttons\");\nvar transformers = new Map([\n    ['NABT', new BT.Nabt2Unicode()],\n    ['BLDT', new BT.Bldt2Unicode()],\n    ['SDF/JKL', new BT.Ascii2Braille('', '')],\n    ['1-6', new BT.Numeric2Braille('', '')]\n]);\nvar backtransformers = new Map([\n    ['NABT', new BT.Unicode2Nabt()],\n    ['BLDT', new BT.Unicode2Bldt()],\n    ['SDF/JKL', new BT.Braille2Ascii('', '')],\n    ['1-6', new BT.Braille2Numeric('', '')]\n]);\nvar kind = 'NABT';\nfunction transformer() {\n    return transformers.get(kind.toUpperCase());\n}\nfunction backtransformer() {\n    return backtransformers.get(kind.toUpperCase());\n}\nvar field = {};\nexports.fireTest = null;\nvar current = '';\nfunction setTest(test) {\n    field.name.innerHTML = test.name;\n    field.expression.innerHTML = test.input ?\n        \"<math display=\\\"block\\\">\" + test.input + \"</math>\" : \"\\\\[\" + test.tex + \"\\\\]\";\n    field.out.innerHTML = test.expected;\n    field.ip.value =\n        backtransformer().via(test.expected);\n    field.ip.focus();\n    setStatus(test[FC.Interaction]);\n    setFeedback(test[FC.FeedbackStatus]);\n    if (MathJax.typeset) {\n        MathJax.typeset();\n    }\n}\nfunction setFeedback(feedback) {\n    if (feedback !== undefined) {\n        field.feedback.value = feedback.toString();\n    }\n}\nfunction setStatus(status) {\n    if (status !== undefined) {\n        switch (status) {\n            case 0:\n                field.statuscolor.className = 'green';\n                field.statusvalue.innerHTML = 'New';\n                break;\n            case 1:\n                field.statuscolor.className = 'yellow';\n                field.statusvalue.innerHTML = 'Viewed';\n                break;\n            case 2:\n                field.statuscolor.className = 'red';\n                field.statusvalue.innerHTML = 'Changed';\n                break;\n            default:\n                field.statuscolor.className = '';\n                field.statusvalue.innerHTML = '';\n        }\n    }\n}\nfunction getTest() {\n    return { expected: field.out.innerHTML };\n}\nfunction init(collection, file) {\n    if (firebase) {\n        initFile(collection, file);\n        return;\n    }\n    setTimeout(init, 100);\n}\nexports.init = init;\nfunction initFile(collection, file) {\n    return __awaiter(this, void 0, void 0, function () {\n        var db;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    db = firebase.app().firestore();\n                    exports.fireTest = new fire_test_1.FireTest(db, collection, file, getTest, setTest);\n                    return [4, exports.fireTest.prepareTests()];\n                case 1:\n                    _a.sent();\n                    field.ip = document.getElementById('input');\n                    field.out = document.getElementById('braille');\n                    field.error = document.getElementById('error');\n                    field.format = document.getElementById('format');\n                    field.expression = document.getElementById('mathexpression');\n                    field.name = document.getElementById('mathname');\n                    field.statuscolor = document.getElementById('statuscolor');\n                    field.statusvalue = document.getElementById('statusvalue');\n                    field.feedback = document.getElementById('feedback');\n                    exports.fireTest.setTest(exports.fireTest.currentTest());\n                    buttons_1.init(exports.fireTest);\n                    return [2];\n            }\n        });\n    });\n}\nfunction translate(str) {\n    var _a = __read(transformer().cleanInput(str), 2), input = _a[0], error = _a[1];\n    return [input, transformer().via(input), error];\n}\nfunction generate() {\n    var ip = field.ip;\n    if (current === ip.value) {\n        return;\n    }\n    if (kind.toUpperCase() === 'SDF/JKL') {\n        collateKeys();\n    }\n    processKeys();\n}\nexports.generate = generate;\nvar collating = false;\nfunction collateKeys() {\n    if (collating) {\n        return;\n    }\n    collating = true;\n    setTimeout(function () {\n        collating = false;\n        processKeys();\n        var ip = field.ip;\n        if (ip.value[ip.value.length - 1] !== ',') {\n            ip.value = ip.value + ',';\n        }\n    }, 100);\n}\nfunction processKeys() {\n    var ip = field.ip;\n    var cursor = ip.selectionStart;\n    field.out.innerHTML = '';\n    field.error.innerHTML = '';\n    var _a = __read(translate(ip.value), 3), input = _a[0], output = _a[1], error = _a[2];\n    if (error) {\n        field.error.innerHTML = 'Unknown ' +\n            (error.length > 1 ? 'elements ' : 'element ') + error;\n    }\n    if (input !== current) {\n        setStatus(2);\n    }\n    ip.value = input;\n    current = input;\n    field.out.innerHTML = output;\n    ip.selectionEnd = cursor - error.length;\n}\nfunction generatem() {\n    setTimeout(generate, 100);\n}\nexports.generatem = generatem;\nfunction changeFormat() {\n    exports.fireTest.saveTest(exports.fireTest.getTest());\n    kind = field.format.value;\n    exports.fireTest.setTest(exports.fireTest.currentTest());\n}\nexports.changeFormat = changeFormat;\nfunction changeFeedback() {\n    var value = parseInt(field.feedback.value, 10);\n    exports.fireTest.currentTest()[FC.FeedbackStatus] = value;\n    exports.fireTest.saveFeedback(value);\n}\nexports.changeFeedback = changeFeedback;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.init = exports.addSpan = exports.deleteAccount = exports.handleSignedOutUser = exports.handleSignedInUser = void 0;\nfunction handleSignedInUser(user) {\n    document.getElementById('user-signed-in').style.display = 'inline';\n    document.getElementById('name').textContent = user.displayName;\n    document.getElementById('email').textContent = user.email;\n}\nexports.handleSignedInUser = handleSignedInUser;\nfunction handleSignedOutUser() {\n    document.getElementById('user-signed-in').style.display = 'none';\n    window.location.replace('.');\n}\nexports.handleSignedOutUser = handleSignedOutUser;\nfunction deleteAccount() {\n    if (window.confirm('Are you sure you want to delete your account?')) {\n        firebase.auth().currentUser.delete().catch(function (error) {\n            if (error.code === 'auth/requires-recent-login') {\n                firebase.auth().signOut().then(function () {\n                    setTimeout(function () {\n                        alert('Please sign in again to delete your account.');\n                    }, 1);\n                });\n            }\n        });\n    }\n}\nexports.deleteAccount = deleteAccount;\nfunction addSpan() {\n    var span = document.createElement('span');\n    var inner = '<span id=\"user-signed-in\" class=\"hidden\">';\n    inner += '<span id=\"user-info\"><span id=\"name\"></span>';\n    inner += '(<span id=\"email\"></span>)<div>';\n    inner += '<span><button id=\"sign-out\">Sign Out</button></span>';\n    inner += '<span><button id=\"delete-account\">Delete account</button></span>';\n    inner += '</div></span></span>';\n    span.innerHTML = inner;\n    document.body.appendChild(span);\n    document.getElementById('sign-out').addEventListener('click', function () {\n        firebase.auth().signOut();\n    });\n    document.getElementById('delete-account').addEventListener('click', function () {\n        deleteAccount();\n    });\n}\nexports.addSpan = addSpan;\nfunction init() {\n    addSpan();\n    firebase.auth().onAuthStateChanged(function (user) {\n        user ? handleSignedInUser(user) : handleSignedOutUser();\n    });\n}\nexports.init = init;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Braille2Ascii = exports.Braille2Numeric = exports.Ascii2Braille = exports.Numeric2Braille = exports.Unicode2Bldt = exports.Unicode2Nabt = exports.Bldt2Unicode = exports.Nabt2Unicode = void 0;\nvar transformers_1 = require(\"./transformers\");\nvar BrfTransformer = (function (_super) {\n    __extends(BrfTransformer, _super);\n    function BrfTransformer(src, dst) {\n        var _this = _super.call(this, src, dst) || this;\n        _this.translate = new Map();\n        _this.setupMap();\n        return _this;\n    }\n    BrfTransformer.getFormat = function (kind) {\n        return (kind.toUpperCase() === 'BLDT' ? BrfTransformer.format.BLDT :\n            BrfTransformer.format.NABT);\n    };\n    BrfTransformer.prototype.via = function (src) {\n        var e_1, _a;\n        var result = '';\n        try {\n            for (var _b = __values(src.split('')), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var str = _c.value;\n                var dst = this.translate.get(str.toLowerCase());\n                if (!dst) {\n                    throw new Error('Illegal input character: ' + str);\n                }\n                result += dst;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return result;\n    };\n    BrfTransformer.prototype.cleanInput = function (str) {\n        var e_2, _a;\n        var input = [];\n        var error = [];\n        try {\n            for (var _b = __values(str.split('')), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var char = _c.value;\n                if (this.translate.get(char) !== undefined) {\n                    input.push(char);\n                }\n                else {\n                    error.push(char);\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        return [input.join(''), error.join(', ')];\n    };\n    BrfTransformer.format = {\n        NABT: ' a1b\\'k2l@cif/msp\"e3h9o6r^djg>ntq,*5<-u8v.%[$+x!&;:4\\\\0z7(_?w]#y)=',\n        BLDT: ' a1b\\'k2l`cif/msp\"e3h9o6r~djg>ntq,*5<-u8v.%{$+x!&;:4|0z7(_?w}#y)='\n    };\n    return BrfTransformer;\n}(transformers_1.AbstractTransformer));\nvar Unicode2Brf = (function (_super) {\n    __extends(Unicode2Brf, _super);\n    function Unicode2Brf() {\n        var _this = _super.call(this, 'expected', '') || this;\n        _this.dst = _this.kind();\n        return _this;\n    }\n    Unicode2Brf.prototype.setupMap = function () {\n        var e_3, _a;\n        var count = 0;\n        try {\n            for (var _b = __values(BrfTransformer.getFormat(this.kind()).split('')), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var str = _c.value;\n                this.translate.set(String.fromCodePoint(0x2800 + count++), str);\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n    };\n    return Unicode2Brf;\n}(BrfTransformer));\nvar Brf2Unicode = (function (_super) {\n    __extends(Brf2Unicode, _super);\n    function Brf2Unicode() {\n        var _this = _super.call(this, '', 'expected') || this;\n        _this.src = _this.kind();\n        return _this;\n    }\n    Brf2Unicode.prototype.setupMap = function () {\n        var e_4, _a;\n        var count = 0;\n        try {\n            for (var _b = __values(BrfTransformer.getFormat(this.kind()).split('')), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var str = _c.value;\n                this.translate.set(str, String.fromCodePoint(0x2800 + count++));\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n    };\n    return Brf2Unicode;\n}(BrfTransformer));\nvar Nabt2Unicode = (function (_super) {\n    __extends(Nabt2Unicode, _super);\n    function Nabt2Unicode() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Nabt2Unicode.prototype.kind = function () {\n        return 'NABT';\n    };\n    return Nabt2Unicode;\n}(Brf2Unicode));\nexports.Nabt2Unicode = Nabt2Unicode;\nvar Bldt2Unicode = (function (_super) {\n    __extends(Bldt2Unicode, _super);\n    function Bldt2Unicode() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Bldt2Unicode.prototype.kind = function () {\n        return 'BLDT';\n    };\n    return Bldt2Unicode;\n}(Brf2Unicode));\nexports.Bldt2Unicode = Bldt2Unicode;\nvar Unicode2Nabt = (function (_super) {\n    __extends(Unicode2Nabt, _super);\n    function Unicode2Nabt() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Unicode2Nabt.prototype.kind = function () {\n        return 'NABT';\n    };\n    return Unicode2Nabt;\n}(Unicode2Brf));\nexports.Unicode2Nabt = Unicode2Nabt;\nvar Unicode2Bldt = (function (_super) {\n    __extends(Unicode2Bldt, _super);\n    function Unicode2Bldt() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Unicode2Bldt.prototype.kind = function () {\n        return 'BLDT';\n    };\n    return Unicode2Bldt;\n}(Unicode2Brf));\nexports.Unicode2Bldt = Unicode2Bldt;\nvar FromMultikey = (function (_super) {\n    __extends(FromMultikey, _super);\n    function FromMultikey() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FromMultikey.prototype.via = function (str) {\n        return str.split(',').filter(function (x) { return x; }).\n            map(this.toBraille.bind(this)).join('');\n    };\n    return FromMultikey;\n}(BrfTransformer));\nvar ToMultikey = (function (_super) {\n    __extends(ToMultikey, _super);\n    function ToMultikey() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ToMultikey.prototype.via = function (str) {\n        return str.split('').map(this.fromBraille.bind(this)).join(',');\n    };\n    return ToMultikey;\n}(BrfTransformer));\nvar Numeric2Braille = (function (_super) {\n    __extends(Numeric2Braille, _super);\n    function Numeric2Braille() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Numeric2Braille.prototype.kind = function () {\n        return '1-6';\n    };\n    Numeric2Braille.numToBraille = function (list) {\n        var e_5, _a;\n        var duplicates = {};\n        var code = 0;\n        try {\n            for (var list_1 = __values(list), list_1_1 = list_1.next(); !list_1_1.done; list_1_1 = list_1.next()) {\n                var bit = list_1_1.value;\n                if (!duplicates[bit] && bit > 0 && bit < 9) {\n                    code += Math.pow(2, bit - 1);\n                }\n                duplicates[bit] = true;\n            }\n        }\n        catch (e_5_1) { e_5 = { error: e_5_1 }; }\n        finally {\n            try {\n                if (list_1_1 && !list_1_1.done && (_a = list_1.return)) _a.call(list_1);\n            }\n            finally { if (e_5) throw e_5.error; }\n        }\n        var base = parseInt('2800', 16);\n        return String.fromCodePoint(base + code);\n    };\n    Numeric2Braille.prototype.toBraille = function (str) {\n        return Numeric2Braille.numToBraille(str.split('')\n            .map(function (x) { return parseInt(x, 10); }).\n            filter(function (x) { return !isNaN(x); }));\n    };\n    Numeric2Braille.prototype.setupMap = function () {\n        for (var i = 0; i <= 8; i++) {\n            this.translate.set(i.toString(), 'T');\n        }\n        this.translate.set(',', 'T');\n    };\n    return Numeric2Braille;\n}(FromMultikey));\nexports.Numeric2Braille = Numeric2Braille;\nvar Ascii2Braille = (function (_super) {\n    __extends(Ascii2Braille, _super);\n    function Ascii2Braille() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Ascii2Braille.prototype.kind = function () {\n        return 'sdf/jkl';\n    };\n    Ascii2Braille.prototype.toBraille = function (str) {\n        var e_6, _a;\n        var legal = [];\n        try {\n            for (var _b = __values(str.split('')), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var char = _c.value;\n                var trans = parseInt(this.translate.get(char), 10);\n                if (!isNaN(trans)) {\n                    legal.push(trans);\n                }\n            }\n        }\n        catch (e_6_1) { e_6 = { error: e_6_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_6) throw e_6.error; }\n        }\n        return Numeric2Braille.numToBraille(legal);\n    };\n    Ascii2Braille.prototype.setupMap = function () {\n        this.translate = new Map([[',', 'T'], [' ', '0'], ['f', '1'], ['d', '2'],\n            ['s', '3'], ['j', '4'], ['k', '5'], ['l', '6']]);\n    };\n    return Ascii2Braille;\n}(Numeric2Braille));\nexports.Ascii2Braille = Ascii2Braille;\nvar Braille2Numeric = (function (_super) {\n    __extends(Braille2Numeric, _super);\n    function Braille2Numeric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Braille2Numeric.prototype.kind = function () {\n        return '1-6';\n    };\n    Braille2Numeric.unicodeToNumber = function (char) {\n        var hex = char.codePointAt(0) - 0x2800;\n        if (!hex) {\n            return [0];\n        }\n        var result = [];\n        for (var i = 1; i <= 8; i++) {\n            var bit = hex % 2;\n            if (bit) {\n                result.push(i);\n            }\n            hex = Math.floor(hex / 2);\n        }\n        return result;\n    };\n    Braille2Numeric.prototype.fromBraille = function (str) {\n        return Braille2Numeric.unicodeToNumber(str).join('');\n    };\n    Braille2Numeric.prototype.setupMap = function () {\n        for (var i = 0; i <= 0xFF; i++) {\n            this.translate.set(String.fromCodePoint(0x2800 + i), 'T');\n        }\n    };\n    return Braille2Numeric;\n}(ToMultikey));\nexports.Braille2Numeric = Braille2Numeric;\nvar Braille2Ascii = (function (_super) {\n    __extends(Braille2Ascii, _super);\n    function Braille2Ascii() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.trans = {\n            0: ' ', 1: 'f', 2: 'd', 3: 's', 4: 'j', 5: 'k', 6: 'l', 7: '', 8: ''\n        };\n        return _this;\n    }\n    Braille2Ascii.prototype.kind = function () {\n        return 'sdf/jkl';\n    };\n    Braille2Ascii.prototype.fromBraille = function (str) {\n        var _this = this;\n        return Braille2Numeric.unicodeToNumber(str)\n            .map(function (x) { return _this.trans[x]; }).join('');\n    };\n    Braille2Ascii.prototype.setupMap = function () {\n        for (var i = 0; i <= 0x3F; i++) {\n            this.translate.set(String.fromCodePoint(0x2800 + i), 'T');\n        }\n    };\n    Braille2Ascii.prototype.via = function (str) {\n        return _super.prototype.via.call(this, str) + ',';\n    };\n    return Braille2Ascii;\n}(Braille2Numeric));\nexports.Braille2Ascii = Braille2Ascii;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractTransformer = void 0;\nvar AbstractTransformer = (function () {\n    function AbstractTransformer(src, dst) {\n        this.src = src;\n        this.dst = dst;\n    }\n    AbstractTransformer.prototype.via = function (src) {\n        return src;\n    };\n    return AbstractTransformer;\n}());\nexports.AbstractTransformer = AbstractTransformer;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(95);\n"],"sourceRoot":""}