{"version":3,"file":"nemeth-project.js","mappings":"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","sources":["webpack://Nemeth/webpack/universalModuleDefinition","webpack://Nemeth/./ts/firebase/fire_constants.ts","webpack://Nemeth/./ts/firebase/fire_test.ts","webpack://Nemeth/./ts/firebase/fire_util.ts","webpack://Nemeth/./ts/frontend/buttons.ts","webpack://Nemeth/./ts/frontend/convert.ts","webpack://Nemeth/./ts/frontend/local_util.ts","webpack://Nemeth/./ts/frontend/selection.ts","webpack://Nemeth/./ts/frontend/signin.ts","webpack://Nemeth/./ts/frontend/user.ts","webpack://Nemeth/./ts/generate/braille_transformer.ts","webpack://Nemeth/./ts/generate/transformers.ts","webpack://Nemeth/webpack/bootstrap","webpack://Nemeth/./ts/frontend/fire_frontend.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Nemeth\"] = factory();\n\telse\n\t\troot[\"Nemeth\"] = factory();\n})(this, () => {\nreturn ","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NemethProjectUser = exports.NemethProjectPath = exports.NemethProjectDocuments = exports.FeedbackStatus = exports.Interaction = exports.TestsCollection = exports.NemethCollection = exports.NemethProject = exports.NemethUrl = void 0;\nexports.NemethUrl = 'https://nemeth-project.firebaseio.com';\nexports.NemethProject = 'nemeth-project';\nexports.NemethCollection = 'nemeth';\nexports.TestsCollection = 'tests';\nexports.Interaction = 'InteractionStatus';\nexports.FeedbackStatus = 'feedback';\nexports.NemethProjectDocuments = exports.NemethProject + '::documents';\nexports.NemethProjectPath = exports.NemethProject + '::path';\nexports.NemethProjectUser = exports.NemethProject + '::user';\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FireTest = void 0;\nconst FC = require(\"./fire_constants\");\nconst FU = require(\"./fire_util\");\nclass FireTest {\n    constructor(db, collection, doc, getTest, setTest) {\n        this.db = db;\n        this.collection = collection;\n        this.doc = doc;\n        this.getTest = getTest;\n        this.setTest = setTest;\n        this.update = true;\n        this.countTests = 0;\n        this.preparedTests = [];\n    }\n    getData() {\n        return this._data;\n    }\n    currentTest() {\n        return this.preparedTests[this.countTests];\n    }\n    prepareTests() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._data = yield FU.downloadData(this.db, this.collection, this.doc);\n            this.order = this._data.order;\n            this.tests = this._data.tests;\n            for (const key of this.order) {\n                const test = this.tests[key];\n                test.brf = '';\n                test.unicode = '';\n                this.preparedTests.push(test);\n            }\n        });\n    }\n    saveTest(values) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const test = this.currentTest();\n            let status = null;\n            for (const key of Object.keys(values)) {\n                if (test[key] !== values[key]) {\n                    status = 2;\n                }\n                test[key] = values[key];\n            }\n            if (status === 2) {\n                test[FC.Interaction] = status;\n                if (this.update) {\n                    FU.updateData(this.db, this.collection, this.doc, test, [\n                        'tests',\n                        test.name\n                    ]);\n                }\n            }\n            if (!status && !test[FC.Interaction]) {\n                test[FC.Interaction] = 1;\n                if (this.update) {\n                    FU.updateData(this.db, this.collection, this.doc, test[FC.Interaction], ['tests', test.name, FC.Interaction]);\n                }\n            }\n        });\n    }\n    saveFeedback(feedback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const test = this.currentTest();\n            FU.updateData(this.db, this.collection, this.doc, feedback, [\n                'tests',\n                test.name,\n                FC.FeedbackStatus\n            ]);\n        });\n    }\n    cycleTests(direction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.saveTest(this.getTest());\n            this.setTest(this.nextTest(direction));\n        });\n    }\n    cycleUnchangedTests(direction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.saveTest(this.getTest());\n            this.setTest(this.jumpTest(direction, (x) => x !== 2));\n        });\n    }\n    cycleNewTests(direction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.saveTest(this.getTest());\n            this.setTest(this.jumpTest(direction, (x) => x === 0));\n        });\n    }\n    goTest(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.saveTest(this.getTest());\n            const index = this.order.indexOf(name);\n            if (index === -1) {\n                return;\n            }\n            this.countTests = index;\n            this.setTest(this.currentTest());\n        });\n    }\n    nextTest(direction) {\n        this.countTests = this.countTests + (direction ? 1 : -1);\n        if (this.countTests < 0) {\n            this.countTests = this.preparedTests.length - 1;\n        }\n        if (this.countTests >= this.preparedTests.length) {\n            this.countTests = 0;\n        }\n        return this.currentTest();\n    }\n    jumpTest(direction, stop) {\n        const currentCount = this.countTests;\n        while (!stop(this.nextTest(direction)[FC.Interaction]) &&\n            this.countTests !== currentCount) { }\n        return currentCount !== this.countTests\n            ? this.currentTest()\n            : this.nextTest(direction);\n    }\n}\nexports.FireTest = FireTest;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.restoreField = exports.updateField = exports.updateCollection = exports.getPaths = exports.setPath = exports.downloadData = exports.updateData = exports.uploadData = exports.verbose = void 0;\nconst FC = require(\"./fire_constants\");\nexports.verbose = false;\nfunction output(str) {\n    if (exports.verbose) {\n        console.log(str);\n    }\n}\nfunction uploadData(db, collection, doc, data) {\n    return __awaiter(this, void 0, void 0, function* () {\n        db.collection(collection)\n            .doc(doc)\n            .set(data)\n            .then(() => {\n            output(`Data for document ${doc} successfully uploaded to collection ${collection}`);\n        })\n            .catch((error) => {\n            output(`Uploading data to document ${doc} in collection ${collection} failed with: ${error}`);\n        });\n    });\n}\nexports.uploadData = uploadData;\nfunction updateData(db, collection, path, data, nesting) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const entry = {};\n        const key = nesting.join('.');\n        entry[key] = data;\n        db.collection(collection)\n            .doc(path)\n            .update(entry)\n            .then(() => {\n            output(`Data successfully updated in collection ${collection} with path ${path}`);\n        })\n            .catch((error) => {\n            output(`Updating data in collection ${collection} with path ${path} failed with: ${error}`);\n        });\n    });\n}\nexports.updateData = updateData;\nfunction downloadData(db, collection, path) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const doc = yield db.collection(collection).doc(path).get();\n        return doc.data();\n    });\n}\nexports.downloadData = downloadData;\nfunction setPath(db, collection, path, value = true) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const doc = path.split('/')[0];\n        const paths = yield db.collection(collection).doc(doc).get();\n        let data = paths.data();\n        if (!data) {\n            data = {};\n        }\n        data[path] = value;\n        uploadData(db, collection, doc, data);\n    });\n}\nexports.setPath = setPath;\nfunction getPaths(db, collection, doc) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const path = doc.split('/')[0];\n        const paths = yield db.collection(collection).doc(path).get();\n        return paths.data();\n    });\n}\nexports.getPaths = getPaths;\nfunction updateCollection(db, collA, collB, doc, callback = (_x, _y) => { }) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const result = [];\n        const paths = yield getPaths(db, collA, doc);\n        if (!paths) {\n            return result;\n        }\n        const pathsB = yield getPaths(db, collB, doc);\n        for (const [path, [name, info]] of Object.entries(paths)) {\n            callback(path, Object.keys(paths));\n            result.push({\n                name: name,\n                information: info,\n                path: path\n            });\n            if (pathsB && pathsB[path] && !path.match(/^nemeth\\/rules/)) {\n                continue;\n            }\n            const dataA = yield downloadData(db, collA, path);\n            const dataB = yield downloadData(db, collB, path);\n            if (!dataB) {\n                setTestsStatus(dataA);\n                setTestsFeedback(dataA);\n                yield uploadData(db, collB, path, dataA);\n                yield setPath(db, collB, path);\n                continue;\n            }\n            const tests = dataB.tests;\n            for (const key of dataA.order) {\n                if (tests[key]) {\n                    continue;\n                }\n                const entryA = dataA.tests[key];\n                setStatus(entryA);\n                setFeedback(entryA);\n                yield updateData(db, collB, path, entryA, ['tests', key]);\n            }\n            yield updateData(db, collB, path, dataA.order, ['order']);\n        }\n        return result;\n    });\n}\nexports.updateCollection = updateCollection;\nfunction updateField(db, collection, path, field, value) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const data = yield downloadData(db, collection, path);\n        for (const key of data.order) {\n            yield updateData(db, collection, path, value, ['tests', key, field]);\n        }\n    });\n}\nexports.updateField = updateField;\nfunction restoreField(db, collA, collB, doc, field) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const dataA = yield downloadData(db, collA, doc);\n        const dataB = yield downloadData(db, collB, doc);\n        if (!dataB) {\n            return;\n        }\n        for (const key of dataB.order) {\n            const testA = dataA.tests[key];\n            if (!testA) {\n                continue;\n            }\n            const value = testA[field];\n            if (typeof value === 'undefined') {\n                continue;\n            }\n            yield updateData(db, collB, doc, value, ['tests', key, field]);\n        }\n    });\n}\nexports.restoreField = restoreField;\nfunction setTestsStatus(tests) {\n    for (const entry of Object.values(tests.tests)) {\n        setStatus(entry);\n    }\n}\nfunction setStatus(entry) {\n    entry[FC.Interaction] = 0;\n}\nfunction setTestsFeedback(tests) {\n    for (const entry of Object.values(tests.tests)) {\n        setFeedback(entry);\n    }\n}\nfunction setFeedback(entry) {\n    entry[FC.FeedbackStatus] = 0;\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.harvest = exports.init = exports.updateAccess = exports.access = exports.backwardBtn = exports.forwardBtn = void 0;\nclass Buttons {\n    constructor(direction) {\n        this.direction = direction;\n        this.span = Buttons.createElement('btns');\n        this.f = Buttons.createElement('btn f', this.direction + ' ' + 'element');\n        this.ff = Buttons.createElement('btn ff', this.direction + ' ' + 'unchanged element');\n        this.fff = Buttons.createElement('btn fff', this.direction + ' ' + 'unviewed element');\n        this.span.id = direction;\n        const order = direction === 'next'\n            ? [this.f, this.ff, this.fff]\n            : [this.fff, this.ff, this.f];\n        for (const span of order) {\n            span.classList.add(direction);\n            span.setAttribute('tabindex', '0');\n            this.span.appendChild(span);\n        }\n        this.hide();\n    }\n    static createElement(cls, title = '') {\n        const element = document.createElement('span');\n        element.className = cls;\n        if (title) {\n            element.title = title;\n            element.setAttribute('aria-label', title);\n        }\n        return element;\n    }\n    show() {\n        this.f.classList.remove('hidden');\n        this.ff.classList.remove('hidden');\n        this.fff.classList.remove('hidden');\n    }\n    hide() {\n        this.f.classList.add('hidden');\n        this.ff.classList.add('hidden');\n        this.fff.classList.add('hidden');\n    }\n}\nclass Access {\n    constructor() {\n        this.anchor = Buttons.createElement('btn center', 'access');\n        this.select = document.createElement('select');\n        this.select.id = 'access';\n        this.select.classList.add('access');\n        this.anchor.appendChild(this.select);\n    }\n    init(test) {\n        this.test = test;\n        this.select.addEventListener('change', (e) => {\n            this.test.goTest(e.target.value);\n        });\n        for (const name of this.test.order) {\n            const option = document.createElement('option');\n            option.setAttribute('value', name);\n            option.classList.add('access');\n            option.textContent = name;\n            this.select.appendChild(option);\n        }\n        this.update();\n    }\n    update() {\n        this.select.value = this.test.currentTest().name;\n    }\n}\nexports.forwardBtn = new Buttons('next');\nexports.backwardBtn = new Buttons('previous');\nexports.access = new Access();\nfunction addListener(button, method) {\n    button.addEventListener('click', method);\n    button.addEventListener('keyup', (e) => {\n        if (e.key === 'Enter') {\n            method(e);\n        }\n    });\n}\nfunction addListeners(test) {\n    addListener(exports.backwardBtn.f, () => __awaiter(this, void 0, void 0, function* () { return yield test.cycleTests(false); }));\n    addListener(exports.backwardBtn.ff, () => __awaiter(this, void 0, void 0, function* () { return yield test.cycleUnchangedTests(false); }));\n    addListener(exports.backwardBtn.fff, () => __awaiter(this, void 0, void 0, function* () { return yield test.cycleNewTests(false); }));\n    addListener(exports.forwardBtn.f, () => __awaiter(this, void 0, void 0, function* () { return yield test.cycleTests(true); }));\n    addListener(exports.forwardBtn.ff, () => __awaiter(this, void 0, void 0, function* () { return yield test.cycleUnchangedTests(true); }));\n    addListener(exports.forwardBtn.fff, () => __awaiter(this, void 0, void 0, function* () { return yield test.cycleNewTests(true); }));\n}\nfunction updateAccess() {\n    exports.access.update();\n}\nexports.updateAccess = updateAccess;\nfunction init(test) {\n    addListeners(test);\n    const div = document.createElement('div');\n    div.classList.add('btns');\n    document.body.appendChild(div);\n    div.appendChild(exports.backwardBtn.span);\n    exports.backwardBtn.show();\n    exports.access.init(test);\n    div.appendChild(exports.access.anchor);\n    const up = Buttons.createElement('btn center', 'selection');\n    up.textContent = 'Selection';\n    up.setAttribute('tabindex', '0');\n    addListener(up, () => {\n        test.saveTest(test.getTest());\n        window.location.assign('selection.html');\n    });\n    div.appendChild(up);\n    div.appendChild(exports.forwardBtn.span);\n    exports.forwardBtn.show();\n}\nexports.init = init;\nfunction harvest(test, clear = () => { }) {\n    addListeners(test);\n    const div = document.createElement('div');\n    div.classList.add('btns');\n    document.body.appendChild(div);\n    div.appendChild(exports.backwardBtn.span);\n    exports.backwardBtn.show();\n    exports.access.init(test);\n    div.appendChild(exports.access.anchor);\n    const up = Buttons.createElement('btn center', 'selection');\n    up.textContent = 'Save';\n    up.setAttribute('tabindex', '0');\n    addListener(up, () => {\n        test.saveTest(test.getTest());\n        clear();\n    });\n    div.appendChild(up);\n    div.appendChild(exports.forwardBtn.span);\n    exports.forwardBtn.show();\n}\nexports.harvest = harvest;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateMath = exports.initHarvest = exports.harvest = exports.changeFeedback = exports.changeFormat = exports.generatem = exports.generate = exports.init = exports.fireTest = void 0;\nconst FC = require(\"../firebase/fire_constants\");\nconst fire_test_1 = require(\"../firebase/fire_test\");\nconst BT = require(\"../generate/braille_transformer\");\nconst buttons_1 = require(\"./buttons\");\nconst LU = require(\"./local_util\");\nconst transformers = new Map([\n    ['NABT', new BT.Nabt2Unicode()],\n    ['BLDT', new BT.Bldt2Unicode()],\n    ['NABT-TABLE', new BT.Nabt2UnicodeTable()],\n    ['BLDT-TABLE', new BT.Bldt2UnicodeTable()],\n    ['SDF/JKL', new BT.Ascii2Braille('', '')],\n    ['1-6', new BT.Numeric2Braille('', '')]\n]);\nconst backtransformers = new Map([\n    ['NABT', new BT.Unicode2Nabt()],\n    ['BLDT', new BT.Unicode2Bldt()],\n    ['SDF/JKL', new BT.Braille2Ascii('', '')],\n    ['1-6', new BT.Braille2Numeric('', '')]\n]);\nlet kind = 'NABT';\nfunction transformer() {\n    return transformers.get(kind.toUpperCase());\n}\nfunction backtransformer() {\n    console.log(8);\n    console.log(kind.toUpperCase());\n    return backtransformers.get(kind.toUpperCase());\n}\nconst field = {};\nexports.fireTest = null;\nlet current = '';\nfunction setTest(test) {\n    field.mathname.innerHTML = test.name;\n    field.mathexpression.innerHTML = test.input\n        ? `<math display=\"block\">${test.input}</math>`\n        : test.tex\n            ? `\\\\[${test.tex}\\\\]`\n            : `${test.name}`;\n    field.braille.innerHTML = test.expected;\n    field.input.value = backtransformer().via(test.expected);\n    field.input.focus();\n    setReferences(test.reference);\n    setStatus(test[FC.Interaction]);\n    setFeedback(test[FC.FeedbackStatus]);\n    if (MathJax.typeset) {\n        MathJax.typeset();\n    }\n    (0, buttons_1.updateAccess)();\n}\nfunction setReferences(references) {\n    field.refname.innerHTML = '';\n    field.references.innerHTML = '';\n    if (!references) {\n        return;\n    }\n    const keys = Object.keys(references).sort((x, y) => {\n        const numX = parseInt(x.split('-')[1], 10);\n        const numY = parseInt(y.split('-')[1], 10);\n        return numX < numY ? -1 : numX > numY ? 1 : 0;\n    });\n    const size = keys.length;\n    if (!size) {\n        return;\n    }\n    field.refname.innerHTML = 'References:';\n    const links = [];\n    const makeRef = size > 10 ? optionReference : linkReference;\n    for (const id of keys) {\n        const url = references[id];\n        links.push(makeRef(id, url));\n    }\n    if (size <= 10) {\n        field.references.append(...links);\n        return;\n    }\n    const select = document.createElement('select');\n    select.setAttribute('onChange', 'window.open(this.value, \"_blank\")');\n    select.classList.add('access');\n    const option = document.createElement('option');\n    option.setAttribute('disabled', '');\n    option.setAttribute('selected', '');\n    option.textContent = 'Select:';\n    select.appendChild(option);\n    select.append(...links);\n    field.references.appendChild(select);\n}\nfunction linkReference(id, url) {\n    const link = document.createElement('a');\n    link.classList.add('reflink');\n    link.setAttribute('href', url);\n    link.setAttribute('target', '_blank');\n    link.textContent = id;\n    return link;\n}\nfunction optionReference(id, url) {\n    const option = document.createElement('option');\n    option.classList.add('access');\n    option.textContent = id;\n    option.value = url;\n    return option;\n}\nfunction setFeedback(feedback) {\n    if (feedback !== undefined) {\n        field.feedback.value = feedback.toString();\n    }\n}\nfunction setStatus(status) {\n    if (status !== undefined && field.statuscolor && field.statusvalue) {\n        switch (status) {\n            case 0:\n                field.statuscolor.className = 'green';\n                field.statusvalue.innerHTML = 'New';\n                break;\n            case 1:\n                field.statuscolor.className = 'yellow';\n                field.statusvalue.innerHTML = 'Viewed';\n                break;\n            case 2:\n                field.statuscolor.className = 'red';\n                field.statusvalue.innerHTML = 'Changed';\n                break;\n            default:\n                field.statuscolor.className = '';\n                field.statusvalue.innerHTML = '';\n        }\n    }\n}\nfunction getTest() {\n    return { expected: field.braille.innerHTML };\n}\nfunction initConversion(collection, file) {\n    if (firebase) {\n        initFile(collection, file);\n        return;\n    }\n    setTimeout(initConversion, 100);\n}\nfunction init() {\n    const path = LU.getStorage(FC.NemethProjectPath);\n    const user = LU.getStorage(FC.NemethProjectUser);\n    if (path && user) {\n        initConversion(user, path);\n    }\n}\nexports.init = init;\nfunction initFile(collection, file) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const db = firebase.app().firestore();\n        exports.fireTest = new fire_test_1.FireTest(db, collection, file, getTest, setTest);\n        yield exports.fireTest.prepareTests();\n        fillField();\n        (0, buttons_1.init)(exports.fireTest);\n        exports.fireTest.setTest(exports.fireTest.currentTest());\n    });\n}\nfunction fillField() {\n    const nodes = document.evaluate('//*[@id]', document.body);\n    for (let node = nodes.iterateNext(); node; node = nodes.iterateNext()) {\n        field[node.id] = node;\n    }\n}\nfunction translate(str) {\n    const [input, error] = transformer().cleanInput(str);\n    return [input, transformer().via(input), error];\n}\nfunction generate() {\n    const ip = field.input;\n    if (current === ip.value) {\n        return;\n    }\n    if (kind.toUpperCase() === 'SDF/JKL') {\n        collateKeys();\n    }\n    processKeys();\n}\nexports.generate = generate;\nlet collating = false;\nfunction collateKeys() {\n    if (collating) {\n        return;\n    }\n    collating = true;\n    setTimeout(() => {\n        collating = false;\n        processKeys();\n        const ip = field.input;\n        if (ip.value[ip.value.length - 1] !== ',') {\n            ip.value = ip.value + ',';\n        }\n    }, 100);\n}\nfunction processKeys() {\n    const ip = field.input;\n    const cursor = ip.selectionStart;\n    field.braille.innerHTML = '';\n    field.error.innerHTML = '';\n    let [input, output, error] = translate(ip.value);\n    if (error) {\n        field.error.innerHTML =\n            'Unknown ' + (error.length > 1 ? 'elements ' : 'element ') + error;\n    }\n    if (input !== current) {\n        setStatus(2);\n    }\n    ip.value = input;\n    current = input;\n    output = output.split('\\n').join('<br>');\n    field.braille.innerHTML = output;\n    ip.selectionEnd = cursor - error.length;\n}\nfunction generatem() {\n    setTimeout(generate, 100);\n}\nexports.generatem = generatem;\nfunction changeFormat() {\n    exports.fireTest.saveTest(exports.fireTest.getTest());\n    kind = field.format.value;\n    exports.fireTest.setTest(exports.fireTest.currentTest());\n}\nexports.changeFormat = changeFormat;\nfunction changeFeedback() {\n    const value = parseInt(field.feedback.value, 10);\n    exports.fireTest.currentTest()[FC.FeedbackStatus] = value;\n    exports.fireTest.saveFeedback(value);\n}\nexports.changeFeedback = changeFeedback;\nfunction harvest() {\n    const path = LU.getStorage(FC.NemethProjectPath);\n    const user = LU.getStorage(FC.NemethProjectUser);\n    if (path && user) {\n        initHarvest(user, path);\n    }\n}\nexports.harvest = harvest;\nfunction clearHarvest() {\n    field.mathinput.value = '';\n    field.input.value = '';\n    generateMath();\n    generate();\n}\nfunction initHarvest(user, path) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const db = firebase.app().firestore();\n        exports.fireTest = new fire_test_1.FireTest(db, user, path, getTest, setTest);\n        yield exports.fireTest.prepareTests();\n        fillField();\n        (0, buttons_1.harvest)(exports.fireTest, clearHarvest);\n        console.log(path);\n        console.log(user);\n    });\n}\nexports.initHarvest = initHarvest;\nlet currentMath = '';\nfunction generateMath() {\n    const ip = field.mathinput;\n    if (currentMath === ip.value) {\n        return;\n    }\n    currentMath = ip.value;\n    processMath(ip.value);\n}\nexports.generateMath = generateMath;\nfunction processMath(math) {\n    field.mathexpression.innerHTML = `\\\\[${math}\\\\]`;\n    if (MathJax.typeset) {\n        MathJax.typeset();\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setStorage = exports.getStorage = exports.getFirebase = void 0;\nfunction getFirebase() {\n    return firebase;\n}\nexports.getFirebase = getFirebase;\nfunction getStorage(key) {\n    return localStorage.getItem(key);\n}\nexports.getStorage = getStorage;\nfunction setStorage(key, value) {\n    localStorage.setItem(key, value);\n}\nexports.setStorage = setStorage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getUid = exports.addDocuments = exports.addSection = void 0;\nconst fc = require(\"../firebase/fire_constants\");\nconst lu = require(\"./local_util\");\nfunction addSection(id, path, info, anchor) {\n    info = `Select ${info} to work on:`;\n    const hr = document.createElement('hr');\n    hr.setAttribute('style', 'width:100%;border-width:0;background-color:#B1DF84;color:#B1DF84;height:6px');\n    const outerDiv = document.createElement('div');\n    outerDiv.classList.add('converter');\n    outerDiv.id = id + 'table';\n    const innerDiv = document.createElement('div');\n    innerDiv.classList.add('section');\n    innerDiv.textContent = info;\n    const table = createTable(id, path);\n    outerDiv.append(innerDiv, table);\n    anchor.append(hr, outerDiv);\n}\nexports.addSection = addSection;\nfunction createTable(id, path) {\n    const table = document.createElement('table');\n    table.id = id;\n    const tr = document.createElement('tr');\n    tr.classList.add('heading');\n    tr.innerHTML = '<th>Name</th><th>Information</th><th>Path</th>';\n    table.appendChild(tr);\n    addDocuments(table, path);\n    return table;\n}\nfunction addDocuments(node, path) {\n    const storage = lu.getStorage(fc.NemethProjectDocuments);\n    if (storage) {\n        const documents = JSON.parse(storage);\n        createRows(documents.filter((doc) => doc.path.match(path)), node);\n    }\n}\nexports.addDocuments = addDocuments;\nfunction getUid() {\n    return lu.getFirebase().auth().getUid();\n}\nexports.getUid = getUid;\nfunction createRows(documents, anchor) {\n    documents.sort((x, y) => ('' + x.name).localeCompare(y.name));\n    for (const entry of documents) {\n        const row = document.createElement('tr');\n        row.setAttribute('tabindex', '0');\n        row.classList.add('selection');\n        row.innerHTML =\n            `<td class=\"selection\">${entry.name}</td>` +\n                `<td>${entry.information}</td><td>${entry.path}</td>`;\n        row.addEventListener('click', () => {\n            lu.setStorage(fc.NemethProjectPath, entry.path);\n            lu.setStorage(fc.NemethProjectUser, getUid());\n            window.location.assign('brf2nemeth.html');\n        });\n        row.addEventListener('keyup', (e) => {\n            if (e.key === 'Enter') {\n                lu.setStorage(fc.NemethProjectPath, entry.path);\n                lu.setStorage(fc.NemethProjectUser, getUid());\n                window.location.assign('brf2nemeth.html');\n            }\n        });\n        anchor.appendChild(row);\n    }\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.init = void 0;\nconst fc = require(\"../firebase/fire_constants\");\nconst fu = require(\"../firebase/fire_util\");\nconst lu = require(\"./local_util\");\nfunction updateFirebase(db, collA, collB, doc) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let count = 0;\n        const div = document.createElement('div');\n        document.body.appendChild(div);\n        const result = yield fu.updateCollection(db, collA, collB, doc, (_x, y) => {\n            const span = document.createElement('span');\n            span.textContent = '.';\n            document.body.insertBefore(span, div);\n            div.textContent = `File (${++count}/${y.length})`;\n        });\n        lu.setStorage(fc.NemethProjectDocuments, JSON.stringify(result));\n    });\n}\nfunction update(authResult) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const div = document.createElement('span');\n        div.textContent = 'Updating.';\n        document.body.appendChild(div);\n        yield updateFirebase(lu.getFirebase().firestore(), fc.TestsCollection, authResult.user.uid, fc.NemethCollection);\n        window.location.assign('selection.html');\n    });\n}\nconst uiConfig = {\n    callbacks: {\n        signInSuccessWithAuthResult: function (authResult) {\n            update(authResult);\n            return false;\n        },\n        uiShown: function () {\n            document.getElementById('loader').style.display = 'none';\n        }\n    },\n    signInSuccessUrl: 'brf2nemeth.html',\n    signInOptions: [\n        lu.getFirebase().auth.EmailAuthProvider.PROVIDER_ID\n    ],\n    tosUrl: 'privacy.html',\n    privacyPolicyUrl: 'privacy.html'\n};\nfunction init(fireui, id, config = uiConfig) {\n    const ui = new fireui.auth.AuthUI(lu.getFirebase().auth());\n    ui.start(id, config);\n}\nexports.init = init;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.init = exports.addSpan = exports.deleteAccount = exports.handleSignedOutUser = exports.handleSignedInUser = void 0;\nfunction handleSignedInUser(user) {\n    document.getElementById('user-signed-in').style.display = 'inline';\n    document.getElementById('name').textContent = user.displayName;\n    document.getElementById('email').textContent = user.email;\n}\nexports.handleSignedInUser = handleSignedInUser;\nfunction handleSignedOutUser() {\n    document.getElementById('user-signed-in').style.display = 'none';\n    window.location.replace('.');\n}\nexports.handleSignedOutUser = handleSignedOutUser;\nfunction deleteAccount() {\n    if (window.confirm('Are you sure you want to delete your account?')) {\n        firebase\n            .auth()\n            .currentUser.delete()\n            .catch((error) => {\n            if (error.code === 'auth/requires-recent-login') {\n                firebase\n                    .auth()\n                    .signOut()\n                    .then(function () {\n                    setTimeout(function () {\n                        alert('Please sign in again to delete your account.');\n                    }, 1);\n                });\n            }\n        });\n    }\n}\nexports.deleteAccount = deleteAccount;\nfunction addSpan() {\n    const span = document.createElement('span');\n    let inner = '<span id=\"user-signed-in\" class=\"hidden\">';\n    inner += '<span id=\"user-info\"><span id=\"name\"></span>';\n    inner += '(<span id=\"email\"></span>)<div>';\n    inner += '<span><button id=\"sign-out\">Sign Out</button></span>';\n    inner += '<span><button id=\"delete-account\">Delete account</button></span>';\n    inner += '</div></span></span>';\n    span.innerHTML = inner;\n    document.body.appendChild(span);\n    document.getElementById('sign-out').addEventListener('click', function () {\n        firebase.auth().signOut();\n    });\n    document\n        .getElementById('delete-account')\n        .addEventListener('click', function () {\n        deleteAccount();\n    });\n}\nexports.addSpan = addSpan;\nfunction init() {\n    addSpan();\n    firebase\n        .auth()\n        .onAuthStateChanged((user) => {\n        user ? handleSignedInUser(user) : handleSignedOutUser();\n    });\n}\nexports.init = init;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Braille2Ascii = exports.Braille2Numeric = exports.Ascii2Braille = exports.Numeric2Braille = exports.Unicode2Bldt = exports.Unicode2Nabt = exports.Bldt2UnicodeTable = exports.Nabt2UnicodeTable = exports.Bldt2Unicode = exports.Nabt2Unicode = void 0;\nconst transformers_1 = require(\"./transformers\");\nclass BrfTransformer extends transformers_1.AbstractTransformer {\n    constructor(src, dst) {\n        super(src, dst);\n        this.translate = new Map();\n        this.setupMap();\n    }\n    static getFormat(kind) {\n        return kind.toUpperCase().match(/^BLDT/)\n            ? BrfTransformer.format.BLDT\n            : BrfTransformer.format.NABT;\n    }\n    via(src) {\n        let result = '';\n        for (const str of src.split('')) {\n            const dst = this.translate.get(str.toLowerCase());\n            if (!dst) {\n                throw new Error('Illegal input character: ' + str);\n            }\n            result += dst;\n        }\n        return result;\n    }\n    cleanInput(str) {\n        const input = [];\n        const error = [];\n        for (const char of str.toLowerCase().split('')) {\n            if (this.translate.get(char) !== undefined) {\n                input.push(char);\n            }\n            else {\n                error.push(char);\n            }\n        }\n        return [input.join(''), error.join(', ')];\n    }\n}\nBrfTransformer.format = {\n    NABT: ' a1b\\'k2l@cif/msp\"e3h9o6r^djg>ntq,*5<-u8v.%[$+x!&;:4\\\\0z7(_?w]#y)=',\n    BLDT: ' a1b\\'k2l`cif/msp\"e3h9o6r~djg>ntq,*5<-u8v.%{$+x!&;:4|0z7(_?w}#y)='\n};\nclass Unicode2Brf extends BrfTransformer {\n    constructor() {\n        super('expected', '');\n        this.dst = this.kind();\n    }\n    setupMap() {\n        let count = 0;\n        for (const str of BrfTransformer.getFormat(this.kind()).split('')) {\n            this.translate.set(String.fromCodePoint(0x2800 + count++), str);\n        }\n    }\n}\nclass Brf2Unicode extends BrfTransformer {\n    constructor() {\n        super('', 'expected');\n        this.src = this.kind();\n    }\n    setupMap() {\n        let count = 0;\n        for (const str of BrfTransformer.getFormat(this.kind()).split('')) {\n            this.translate.set(str, String.fromCodePoint(0x2800 + count++));\n        }\n    }\n}\nclass Nabt2Unicode extends Brf2Unicode {\n    kind() {\n        return 'NABT';\n    }\n}\nexports.Nabt2Unicode = Nabt2Unicode;\nclass Bldt2Unicode extends Brf2Unicode {\n    kind() {\n        return 'BLDT';\n    }\n}\nexports.Bldt2Unicode = Bldt2Unicode;\nclass Nabt2UnicodeTable extends Nabt2Unicode {\n    kind() {\n        return 'NABT-TABLE';\n    }\n    via(src) {\n        const result = [];\n        for (const line of src.split('\\n')) {\n            result.push(super.via(line));\n        }\n        console.log(result.join('\\n'));\n        return result.join('\\n');\n    }\n    cleanInput(str) {\n        const input = [];\n        const error = [];\n        for (const line of str.split('\\n')) {\n            for (const char of line.toLowerCase().split('')) {\n                if (this.translate.get(char) !== undefined) {\n                    input.push(char);\n                }\n                else {\n                    error.push(char);\n                }\n            }\n            input.push('\\n');\n        }\n        input.pop();\n        return [input.join(''), error.join(', ')];\n    }\n}\nexports.Nabt2UnicodeTable = Nabt2UnicodeTable;\nclass Bldt2UnicodeTable extends Bldt2Unicode {\n    kind() {\n        return 'BLDT-TABLE';\n    }\n    via(src) {\n        const result = [];\n        for (const line of src.split('\\n')) {\n            result.push(super.via(line));\n        }\n        console.log(result.join('\\n'));\n        return result.join('\\n');\n    }\n    cleanInput(str) {\n        const input = [];\n        const error = [];\n        for (const line of str.split('\\n')) {\n            for (const char of line.toLowerCase().split('')) {\n                if (this.translate.get(char) !== undefined) {\n                    input.push(char);\n                }\n                else {\n                    error.push(char);\n                }\n            }\n            input.push('\\n');\n        }\n        input.pop();\n        return [input.join(''), error.join(', ')];\n    }\n}\nexports.Bldt2UnicodeTable = Bldt2UnicodeTable;\nclass Unicode2Nabt extends Unicode2Brf {\n    kind() {\n        return 'NABT';\n    }\n}\nexports.Unicode2Nabt = Unicode2Nabt;\nclass Unicode2Bldt extends Unicode2Brf {\n    kind() {\n        return 'BLDT';\n    }\n}\nexports.Unicode2Bldt = Unicode2Bldt;\nclass FromMultikey extends BrfTransformer {\n    via(str) {\n        return str\n            .split(',')\n            .filter((x) => x)\n            .map(this.toBraille.bind(this))\n            .join('');\n    }\n}\nclass ToMultikey extends BrfTransformer {\n    via(str) {\n        return str.split('').map(this.fromBraille.bind(this)).join(',');\n    }\n}\nclass Numeric2Braille extends FromMultikey {\n    kind() {\n        return '1-6';\n    }\n    static numToBraille(list) {\n        const duplicates = {};\n        let code = 0;\n        for (const bit of list) {\n            if (!duplicates[bit] && bit > 0 && bit < 9) {\n                code += Math.pow(2, bit - 1);\n            }\n            duplicates[bit] = true;\n        }\n        const base = parseInt('2800', 16);\n        return String.fromCodePoint(base + code);\n    }\n    toBraille(str) {\n        return Numeric2Braille.numToBraille(str\n            .split('')\n            .map((x) => parseInt(x, 10))\n            .filter((x) => !isNaN(x)));\n    }\n    setupMap() {\n        for (let i = 0; i <= 8; i++) {\n            this.translate.set(i.toString(), 'T');\n        }\n        this.translate.set(',', 'T');\n    }\n}\nexports.Numeric2Braille = Numeric2Braille;\nclass Ascii2Braille extends Numeric2Braille {\n    kind() {\n        return 'sdf/jkl';\n    }\n    toBraille(str) {\n        const legal = [];\n        for (const char of str.split('')) {\n            const trans = parseInt(this.translate.get(char), 10);\n            if (!isNaN(trans)) {\n                legal.push(trans);\n            }\n        }\n        return Numeric2Braille.numToBraille(legal);\n    }\n    setupMap() {\n        this.translate = new Map([\n            [',', 'T'],\n            [' ', '0'],\n            ['f', '1'],\n            ['d', '2'],\n            ['s', '3'],\n            ['j', '4'],\n            ['k', '5'],\n            ['l', '6']\n        ]);\n    }\n}\nexports.Ascii2Braille = Ascii2Braille;\nclass Braille2Numeric extends ToMultikey {\n    kind() {\n        return '1-6';\n    }\n    static unicodeToNumber(char) {\n        let hex = char.codePointAt(0) - 0x2800;\n        if (!hex) {\n            return [0];\n        }\n        const result = [];\n        for (let i = 1; i <= 8; i++) {\n            const bit = hex % 2;\n            if (bit) {\n                result.push(i);\n            }\n            hex = Math.floor(hex / 2);\n        }\n        return result;\n    }\n    fromBraille(str) {\n        return Braille2Numeric.unicodeToNumber(str).join('');\n    }\n    setupMap() {\n        for (let i = 0; i <= 0xff; i++) {\n            this.translate.set(String.fromCodePoint(0x2800 + i), 'T');\n        }\n    }\n}\nexports.Braille2Numeric = Braille2Numeric;\nclass Braille2Ascii extends Braille2Numeric {\n    constructor() {\n        super(...arguments);\n        this.trans = {\n            0: ' ',\n            1: 'f',\n            2: 'd',\n            3: 's',\n            4: 'j',\n            5: 'k',\n            6: 'l',\n            7: '',\n            8: ''\n        };\n    }\n    kind() {\n        return 'sdf/jkl';\n    }\n    fromBraille(str) {\n        return Braille2Numeric.unicodeToNumber(str)\n            .map((x) => this.trans[x])\n            .join('');\n    }\n    setupMap() {\n        for (let i = 0; i <= 0x3f; i++) {\n            this.translate.set(String.fromCodePoint(0x2800 + i), 'T');\n        }\n    }\n    via(str) {\n        return super.via(str) + ',';\n    }\n}\nexports.Braille2Ascii = Braille2Ascii;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractTransformer = void 0;\nclass AbstractTransformer {\n    constructor(src, dst) {\n        this.src = src;\n        this.dst = dst;\n    }\n    via(src) {\n        return src;\n    }\n}\nexports.AbstractTransformer = AbstractTransformer;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Signin = exports.User = exports.Select = exports.Convert = void 0;\nconst convert = require(\"./convert\");\nconst select = require(\"./selection\");\nconst signin = require(\"./signin\");\nconst user = require(\"./user\");\nexports.Convert = convert;\nexports.Select = select;\nexports.User = user;\nexports.Signin = signin;\n"],"names":["root","factory","exports","module","define","amd","this","Object","defineProperty","value","NemethProjectUser","NemethProjectPath","NemethProjectDocuments","FeedbackStatus","Interaction","TestsCollection","NemethCollection","NemethProject","NemethUrl","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","FireTest","FC","FU","constructor","db","collection","doc","getTest","setTest","update","countTests","preparedTests","getData","_data","currentTest","prepareTests","downloadData","order","tests","key","test","brf","unicode","push","saveTest","values","status","keys","updateData","name","saveFeedback","feedback","cycleTests","direction","nextTest","cycleUnchangedTests","jumpTest","x","cycleNewTests","goTest","index","indexOf","length","stop","currentCount","restoreField","updateField","updateCollection","getPaths","setPath","uploadData","verbose","output","str","console","log","data","set","catch","error","path","nesting","entry","join","get","split","setTestsStatus","setStatus","setTestsFeedback","setFeedback","collA","collB","callback","_x","_y","paths","pathsB","info","entries","information","match","dataA","dataB","entryA","field","testA","harvest","init","updateAccess","access","backwardBtn","forwardBtn","Buttons","span","createElement","f","ff","fff","id","classList","add","setAttribute","appendChild","hide","static","cls","title","element","document","className","show","remove","addListener","button","method","addEventListener","addListeners","anchor","select","target","option","textContent","div","body","up","window","location","assign","clear","generateMath","initHarvest","changeFeedback","changeFormat","generatem","generate","fireTest","fire_test_1","BT","buttons_1","LU","transformers","Map","Nabt2Unicode","Bldt2Unicode","Nabt2UnicodeTable","Bldt2UnicodeTable","Ascii2Braille","Numeric2Braille","backtransformers","Unicode2Nabt","Unicode2Bldt","Braille2Ascii","Braille2Numeric","kind","transformer","toUpperCase","current","mathname","innerHTML","mathexpression","input","tex","braille","expected","via","focus","references","refname","sort","y","numX","parseInt","numY","size","links","makeRef","optionReference","linkReference","url","append","setReferences","reference","undefined","toString","MathJax","typeset","link","statuscolor","statusvalue","initConversion","file","firebase","app","firestore","fillField","initFile","setTimeout","nodes","evaluate","node","iterateNext","ip","collating","processKeys","collateKeys","getStorage","user","cursor","selectionStart","cleanInput","translate","selectionEnd","clearHarvest","mathinput","format","currentMath","math","setStorage","getFirebase","localStorage","getItem","setItem","getUid","addDocuments","addSection","fc","lu","storage","documents","localeCompare","row","createRows","JSON","parse","filter","auth","hr","outerDiv","innerDiv","table","tr","createTable","fu","authResult","count","insertBefore","stringify","updateFirebase","uid","uiConfig","callbacks","signInSuccessWithAuthResult","uiShown","getElementById","style","display","signInSuccessUrl","signInOptions","EmailAuthProvider","PROVIDER_ID","tosUrl","privacyPolicyUrl","fireui","config","AuthUI","start","handleSignedInUser","displayName","email","handleSignedOutUser","replace","deleteAccount","confirm","currentUser","delete","code","signOut","alert","addSpan","inner","onAuthStateChanged","transformers_1","BrfTransformer","AbstractTransformer","src","dst","super","setupMap","BLDT","NABT","toLowerCase","Error","char","Unicode2Brf","getFormat","String","fromCodePoint","Brf2Unicode","line","pop","FromMultikey","map","toBraille","bind","ToMultikey","fromBraille","list","duplicates","bit","Math","pow","base","numToBraille","isNaN","i","legal","trans","hex","codePointAt","floor","unicodeToNumber","arguments","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call","Signin","User","Select","Convert","convert","signin"],"sourceRoot":""}