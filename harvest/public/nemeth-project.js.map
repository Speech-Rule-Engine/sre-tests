{"version":3,"sources":["webpack://Nemeth/webpack/universalModuleDefinition","webpack://Nemeth/./ts/firebase/fire_constants.ts","webpack://Nemeth/./ts/firebase/fire_test.ts","webpack://Nemeth/./ts/firebase/fire_util.ts","webpack://Nemeth/./ts/frontend/buttons.ts","webpack://Nemeth/./ts/frontend/convert.ts","webpack://Nemeth/./ts/frontend/local_util.ts","webpack://Nemeth/./ts/frontend/selection.ts","webpack://Nemeth/./ts/frontend/signin.ts","webpack://Nemeth/./ts/frontend/user.ts","webpack://Nemeth/./ts/generate/braille_transformer.ts","webpack://Nemeth/./ts/generate/transformers.ts","webpack://Nemeth/webpack/bootstrap","webpack://Nemeth/./ts/frontend/fire_frontend.ts"],"names":["root","factory","exports","module","define","amd","this","Object","defineProperty","value","NemethProjectUser","NemethProjectPath","NemethProjectDocuments","FeedbackStatus","Interaction","TestsCollection","NemethCollection","NemethProject","NemethUrl","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","__values","o","s","m","i","FireTest","FC","FU","db","collection","doc","getTest","setTest","update","countTests","preparedTests","prototype","getData","_data","currentTest","prepareTests","_a","_b","_c","key","test_1","e_1","_d","_e","downloadData","order","tests","brf","unicode","e_1_1","error","return","saveTest","values","test","status","e_2","keys","e_2_1","updateData","name","saveFeedback","feedback","cycleTests","direction","nextTest","cycleUnchangedTests","jumpTest","x","cycleNewTests","goTest","index","indexOf","stop","currentCount","__read","r","ar","restoreField","updateField","updateCollection","getPaths","setPath","uploadData","verbose","output","str","console","log","data","set","catch","path","nesting","entry","join","get","paths","split","setStatus","setFeedback","collA","collB","callback","_x","_y","pathsB","name_1","info","dataA","dataB","_f","entryA","_g","_h","_j","entries","information","match","e_5","e_5_1","setTestsStatus","e_6","e_6_1","setTestsFeedback","field","e_3_1","e_3","testA","e_4_1","e_4","harvest","init","updateAccess","access","backwardBtn","forwardBtn","Buttons","span","createElement","ff","fff","id","order_1","order_1_1","classList","add","setAttribute","appendChild","hide","cls","title","element","document","className","show","remove","Access","anchor","select","_this","addEventListener","target","option","textContent","addListener","button","method","addListeners","div","up","window","location","assign","clear","__spreadArray","to","from","il","j","generateMath","initHarvest","changeFeedback","changeFormat","generatem","generate","fireTest","fire_test_1","BT","buttons_1","LU","transformers","Map","Nabt2Unicode","Bldt2Unicode","Nabt2UnicodeTable","Bldt2UnicodeTable","Ascii2Braille","Numeric2Braille","backtransformers","Unicode2Nabt","Unicode2Bldt","Braille2Ascii","Braille2Numeric","kind","transformer","toUpperCase","current","mathname","innerHTML","mathexpression","input","tex","braille","expected","via","focus","references","refname","sort","numX","parseInt","numY","size","links","makeRef","optionReference","linkReference","keys_1","keys_1_1","url","append","setReferences","reference","undefined","toString","MathJax","typeset","link","statuscolor","statusvalue","initConversion","file","firebase","app","firestore","fillField","initFile","setTimeout","nodes","evaluate","node","iterateNext","ip","collating","processKeys","collateKeys","getStorage","user","cursor","selectionStart","cleanInput","translate","selectionEnd","clearHarvest","mathinput","format","currentMath","math","setStorage","getFirebase","localStorage","getItem","setItem","getUid","addDocuments","addSection","fc","lu","storage","documents","localeCompare","_loop_1","row","documents_1","documents_1_1","createRows","JSON","parse","filter","auth","hr","outerDiv","innerDiv","table","tr","createTable","fu","updateFirebase","count","insertBefore","stringify","uiConfig","callbacks","signInSuccessWithAuthResult","authResult","uid","uiShown","getElementById","style","display","signInSuccessUrl","signInOptions","EmailAuthProvider","PROVIDER_ID","tosUrl","privacyPolicyUrl","fireui","config","AuthUI","start","handleSignedInUser","displayName","email","handleSignedOutUser","replace","deleteAccount","confirm","currentUser","delete","code","signOut","alert","addSpan","inner","onAuthStateChanged","extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","String","__","constructor","create","BrfTransformer","_super","src","dst","setupMap","getFormat","BLDT","NABT","toLowerCase","Error","char","AbstractTransformer","Unicode2Brf","fromCodePoint","Brf2Unicode","arguments","line","e_7","e_7_1","e_8","e_8_1","e_9","e_10","e_10_1","e_9_1","FromMultikey","map","toBraille","bind","ToMultikey","fromBraille","numToBraille","list","e_11","duplicates","list_1","list_1_1","bit","Math","pow","e_11_1","base","isNaN","e_12","legal","trans","e_12_1","unicodeToNumber","hex","codePointAt","floor","0","1","2","3","4","5","6","7","8","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","Signin","User","Select","Convert","convert","signin"],"mappings":"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","file":"nemeth-project.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Nemeth\"] = factory();\n\telse\n\t\troot[\"Nemeth\"] = factory();\n})(this, function() {\nreturn ","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NemethProjectUser = exports.NemethProjectPath = exports.NemethProjectDocuments = exports.FeedbackStatus = exports.Interaction = exports.TestsCollection = exports.NemethCollection = exports.NemethProject = exports.NemethUrl = void 0;\nexports.NemethUrl = 'https://nemeth-project.firebaseio.com';\nexports.NemethProject = 'nemeth-project';\nexports.NemethCollection = 'nemeth';\nexports.TestsCollection = 'tests';\nexports.Interaction = 'InteractionStatus';\nexports.FeedbackStatus = 'feedback';\nexports.NemethProjectDocuments = exports.NemethProject + '::documents';\nexports.NemethProjectPath = exports.NemethProject + '::path';\nexports.NemethProjectUser = exports.NemethProject + '::user';\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FireTest = void 0;\nvar FC = require(\"./fire_constants\");\nvar FU = require(\"./fire_util\");\nvar FireTest = (function () {\n    function FireTest(db, collection, doc, getTest, setTest) {\n        this.db = db;\n        this.collection = collection;\n        this.doc = doc;\n        this.getTest = getTest;\n        this.setTest = setTest;\n        this.update = true;\n        this.countTests = 0;\n        this.preparedTests = [];\n    }\n    FireTest.prototype.getData = function () {\n        return this._data;\n    };\n    FireTest.prototype.currentTest = function () {\n        return this.preparedTests[this.countTests];\n    };\n    FireTest.prototype.prepareTests = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, _b, _c, key, test_1;\n            var e_1, _d;\n            return __generator(this, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        _a = this;\n                        return [4, FU.downloadData(this.db, this.collection, this.doc)];\n                    case 1:\n                        _a._data = _e.sent();\n                        this.order = this._data.order;\n                        this.tests = this._data.tests;\n                        try {\n                            for (_b = __values(this.order), _c = _b.next(); !_c.done; _c = _b.next()) {\n                                key = _c.value;\n                                test_1 = this.tests[key];\n                                test_1.brf = '';\n                                test_1.unicode = '';\n                                this.preparedTests.push(test_1);\n                            }\n                        }\n                        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                        finally {\n                            try {\n                                if (_c && !_c.done && (_d = _b.return)) _d.call(_b);\n                            }\n                            finally { if (e_1) throw e_1.error; }\n                        }\n                        return [2];\n                }\n            });\n        });\n    };\n    FireTest.prototype.saveTest = function (values) {\n        return __awaiter(this, void 0, void 0, function () {\n            var test, status, _a, _b, key;\n            var e_2, _c;\n            return __generator(this, function (_d) {\n                test = this.currentTest();\n                status = null;\n                try {\n                    for (_a = __values(Object.keys(values)), _b = _a.next(); !_b.done; _b = _a.next()) {\n                        key = _b.value;\n                        if (test[key] !== values[key]) {\n                            status = 2;\n                        }\n                        test[key] = values[key];\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_b && !_b.done && (_c = _a.return)) _c.call(_a);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n                if (status === 2) {\n                    test[FC.Interaction] = status;\n                    if (this.update) {\n                        FU.updateData(this.db, this.collection, this.doc, test, ['tests', test.name]);\n                    }\n                }\n                if (!status && !test[FC.Interaction]) {\n                    test[FC.Interaction] = 1;\n                    if (this.update) {\n                        FU.updateData(this.db, this.collection, this.doc, test[FC.Interaction], ['tests', test.name, FC.Interaction]);\n                    }\n                }\n                return [2];\n            });\n        });\n    };\n    FireTest.prototype.saveFeedback = function (feedback) {\n        return __awaiter(this, void 0, void 0, function () {\n            var test;\n            return __generator(this, function (_a) {\n                test = this.currentTest();\n                FU.updateData(this.db, this.collection, this.doc, feedback, ['tests', test.name, FC.FeedbackStatus]);\n                return [2];\n            });\n        });\n    };\n    FireTest.prototype.cycleTests = function (direction) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.saveTest(this.getTest())];\n                    case 1:\n                        _a.sent();\n                        this.setTest(this.nextTest(direction));\n                        return [2];\n                }\n            });\n        });\n    };\n    FireTest.prototype.cycleUnchangedTests = function (direction) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.saveTest(this.getTest())];\n                    case 1:\n                        _a.sent();\n                        this.setTest(this.jumpTest(direction, function (x) { return x !== 2; }));\n                        return [2];\n                }\n            });\n        });\n    };\n    FireTest.prototype.cycleNewTests = function (direction) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.saveTest(this.getTest())];\n                    case 1:\n                        _a.sent();\n                        this.setTest(this.jumpTest(direction, function (x) { return x === 0; }));\n                        return [2];\n                }\n            });\n        });\n    };\n    FireTest.prototype.goTest = function (name) {\n        return __awaiter(this, void 0, void 0, function () {\n            var index;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.saveTest(this.getTest())];\n                    case 1:\n                        _a.sent();\n                        index = this.order.indexOf(name);\n                        if (index === -1) {\n                            return [2];\n                        }\n                        this.countTests = index;\n                        this.setTest(this.currentTest());\n                        return [2];\n                }\n            });\n        });\n    };\n    FireTest.prototype.nextTest = function (direction) {\n        this.countTests = this.countTests + (direction ? 1 : -1);\n        if (this.countTests < 0) {\n            this.countTests = this.preparedTests.length - 1;\n        }\n        if (this.countTests >= this.preparedTests.length) {\n            this.countTests = 0;\n        }\n        return this.currentTest();\n    };\n    FireTest.prototype.jumpTest = function (direction, stop) {\n        var currentCount = this.countTests;\n        while (!stop(this.nextTest(direction)[FC.Interaction]) &&\n            this.countTests !== currentCount) { }\n        return currentCount !== this.countTests ? this.currentTest() :\n            this.nextTest(direction);\n    };\n    return FireTest;\n}());\nexports.FireTest = FireTest;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.restoreField = exports.updateField = exports.updateCollection = exports.getPaths = exports.setPath = exports.downloadData = exports.updateData = exports.uploadData = exports.verbose = void 0;\nvar FC = require(\"./fire_constants\");\nexports.verbose = false;\nfunction output(str) {\n    if (exports.verbose) {\n        console.log(str);\n    }\n}\nfunction uploadData(db, collection, doc, data) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            db.collection(collection).doc(doc).set(data).\n                then(function () {\n                output(\"Data for document \" + doc + \" successfully uploaded to collection \" + collection);\n            }).\n                catch(function (error) {\n                output(\"Uploading data to document \" + doc + \" in collection \" + collection + \" failed with: \" + error);\n            });\n            return [2];\n        });\n    });\n}\nexports.uploadData = uploadData;\nfunction updateData(db, collection, path, data, nesting) {\n    return __awaiter(this, void 0, void 0, function () {\n        var entry, key;\n        return __generator(this, function (_a) {\n            entry = {};\n            key = nesting.join('.');\n            entry[key] = data;\n            db.collection(collection).doc(path).update(entry).\n                then(function () {\n                output(\"Data successfully updated in collection \" + collection + \" with path \" + path);\n            }).\n                catch(function (error) {\n                output(\"Updating data in collection \" + collection + \" with path \" + path + \" failed with: \" + error);\n            });\n            return [2];\n        });\n    });\n}\nexports.updateData = updateData;\nfunction downloadData(db, collection, path) {\n    return __awaiter(this, void 0, void 0, function () {\n        var doc;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4, db.collection(collection).doc(path).get()];\n                case 1:\n                    doc = _a.sent();\n                    return [2, doc.data()];\n            }\n        });\n    });\n}\nexports.downloadData = downloadData;\nfunction setPath(db, collection, path, value) {\n    if (value === void 0) { value = true; }\n    return __awaiter(this, void 0, void 0, function () {\n        var doc, paths, data;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    doc = path.split('/')[0];\n                    return [4, db.collection(collection).doc(doc).get()];\n                case 1:\n                    paths = _a.sent();\n                    data = paths.data();\n                    if (!data) {\n                        data = {};\n                    }\n                    data[path] = value;\n                    uploadData(db, collection, doc, data);\n                    return [2];\n            }\n        });\n    });\n}\nexports.setPath = setPath;\nfunction getPaths(db, collection, doc) {\n    return __awaiter(this, void 0, void 0, function () {\n        var path, paths;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    path = doc.split('/')[0];\n                    return [4, db.collection(collection).doc(path).get()];\n                case 1:\n                    paths = _a.sent();\n                    return [2, paths.data()];\n            }\n        });\n    });\n}\nexports.getPaths = getPaths;\nfunction updateCollection(db, collA, collB, doc, callback) {\n    if (callback === void 0) { callback = function (_x, _y) { }; }\n    return __awaiter(this, void 0, void 0, function () {\n        var result, paths, pathsB, _a, _b, _c, path, _d, name_1, info, dataA, dataB, tests, _e, _f, key, entryA, e_1_1, e_2_1;\n        var e_2, _g, e_1, _h;\n        return __generator(this, function (_j) {\n            switch (_j.label) {\n                case 0:\n                    result = [];\n                    return [4, getPaths(db, collA, doc)];\n                case 1:\n                    paths = _j.sent();\n                    if (!paths) {\n                        return [2, result];\n                    }\n                    return [4, getPaths(db, collB, doc)];\n                case 2:\n                    pathsB = _j.sent();\n                    _j.label = 3;\n                case 3:\n                    _j.trys.push([3, 21, 22, 23]);\n                    _a = __values(Object.entries(paths)), _b = _a.next();\n                    _j.label = 4;\n                case 4:\n                    if (!!_b.done) return [3, 20];\n                    _c = __read(_b.value, 2), path = _c[0], _d = __read(_c[1], 2), name_1 = _d[0], info = _d[1];\n                    callback(path, Object.keys(paths));\n                    result.push({\n                        name: name_1,\n                        information: info,\n                        path: path\n                    });\n                    if (pathsB && pathsB[path] && !path.match(/^nemeth\\/rules/)) {\n                        return [3, 19];\n                    }\n                    return [4, downloadData(db, collA, path)];\n                case 5:\n                    dataA = _j.sent();\n                    return [4, downloadData(db, collB, path)];\n                case 6:\n                    dataB = _j.sent();\n                    if (!!dataB) return [3, 9];\n                    setTestsStatus(dataA);\n                    setTestsFeedback(dataA);\n                    return [4, uploadData(db, collB, path, dataA)];\n                case 7:\n                    _j.sent();\n                    return [4, setPath(db, collB, path)];\n                case 8:\n                    _j.sent();\n                    return [3, 19];\n                case 9:\n                    tests = dataB.tests;\n                    _j.label = 10;\n                case 10:\n                    _j.trys.push([10, 15, 16, 17]);\n                    _e = (e_1 = void 0, __values(dataA.order)), _f = _e.next();\n                    _j.label = 11;\n                case 11:\n                    if (!!_f.done) return [3, 14];\n                    key = _f.value;\n                    if (tests[key]) {\n                        return [3, 13];\n                    }\n                    entryA = dataA.tests[key];\n                    setStatus(entryA);\n                    setFeedback(entryA);\n                    return [4, updateData(db, collB, path, entryA, ['tests', key])];\n                case 12:\n                    _j.sent();\n                    _j.label = 13;\n                case 13:\n                    _f = _e.next();\n                    return [3, 11];\n                case 14: return [3, 17];\n                case 15:\n                    e_1_1 = _j.sent();\n                    e_1 = { error: e_1_1 };\n                    return [3, 17];\n                case 16:\n                    try {\n                        if (_f && !_f.done && (_h = _e.return)) _h.call(_e);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                    return [7];\n                case 17: return [4, updateData(db, collB, path, dataA.order, ['order'])];\n                case 18:\n                    _j.sent();\n                    _j.label = 19;\n                case 19:\n                    _b = _a.next();\n                    return [3, 4];\n                case 20: return [3, 23];\n                case 21:\n                    e_2_1 = _j.sent();\n                    e_2 = { error: e_2_1 };\n                    return [3, 23];\n                case 22:\n                    try {\n                        if (_b && !_b.done && (_g = _a.return)) _g.call(_a);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                    return [7];\n                case 23: return [2, result];\n            }\n        });\n    });\n}\nexports.updateCollection = updateCollection;\nfunction updateField(db, collection, path, field, value) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, _a, _b, key, e_3_1;\n        var e_3, _c;\n        return __generator(this, function (_d) {\n            switch (_d.label) {\n                case 0: return [4, downloadData(db, collection, path)];\n                case 1:\n                    data = _d.sent();\n                    _d.label = 2;\n                case 2:\n                    _d.trys.push([2, 7, 8, 9]);\n                    _a = __values(data.order), _b = _a.next();\n                    _d.label = 3;\n                case 3:\n                    if (!!_b.done) return [3, 6];\n                    key = _b.value;\n                    return [4, updateData(db, collection, path, value, ['tests', key, field])];\n                case 4:\n                    _d.sent();\n                    _d.label = 5;\n                case 5:\n                    _b = _a.next();\n                    return [3, 3];\n                case 6: return [3, 9];\n                case 7:\n                    e_3_1 = _d.sent();\n                    e_3 = { error: e_3_1 };\n                    return [3, 9];\n                case 8:\n                    try {\n                        if (_b && !_b.done && (_c = _a.return)) _c.call(_a);\n                    }\n                    finally { if (e_3) throw e_3.error; }\n                    return [7];\n                case 9: return [2];\n            }\n        });\n    });\n}\nexports.updateField = updateField;\nfunction restoreField(db, collA, collB, doc, field) {\n    return __awaiter(this, void 0, void 0, function () {\n        var dataA, dataB, _a, _b, key, testA, value, e_4_1;\n        var e_4, _c;\n        return __generator(this, function (_d) {\n            switch (_d.label) {\n                case 0: return [4, downloadData(db, collA, doc)];\n                case 1:\n                    dataA = _d.sent();\n                    return [4, downloadData(db, collB, doc)];\n                case 2:\n                    dataB = _d.sent();\n                    if (!dataB) {\n                        return [2];\n                    }\n                    _d.label = 3;\n                case 3:\n                    _d.trys.push([3, 8, 9, 10]);\n                    _a = __values(dataB.order), _b = _a.next();\n                    _d.label = 4;\n                case 4:\n                    if (!!_b.done) return [3, 7];\n                    key = _b.value;\n                    testA = dataA.tests[key];\n                    if (!testA) {\n                        return [3, 6];\n                    }\n                    value = testA[field];\n                    if (typeof value === 'undefined') {\n                        return [3, 6];\n                    }\n                    return [4, updateData(db, collB, doc, value, ['tests', key, field])];\n                case 5:\n                    _d.sent();\n                    _d.label = 6;\n                case 6:\n                    _b = _a.next();\n                    return [3, 4];\n                case 7: return [3, 10];\n                case 8:\n                    e_4_1 = _d.sent();\n                    e_4 = { error: e_4_1 };\n                    return [3, 10];\n                case 9:\n                    try {\n                        if (_b && !_b.done && (_c = _a.return)) _c.call(_a);\n                    }\n                    finally { if (e_4) throw e_4.error; }\n                    return [7];\n                case 10: return [2];\n            }\n        });\n    });\n}\nexports.restoreField = restoreField;\nfunction setTestsStatus(tests) {\n    var e_5, _a;\n    try {\n        for (var _b = __values(Object.values(tests.tests)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var entry = _c.value;\n            setStatus(entry);\n        }\n    }\n    catch (e_5_1) { e_5 = { error: e_5_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_5) throw e_5.error; }\n    }\n}\nfunction setStatus(entry) {\n    entry[FC.Interaction] = 0;\n}\nfunction setTestsFeedback(tests) {\n    var e_6, _a;\n    try {\n        for (var _b = __values(Object.values(tests.tests)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var entry = _c.value;\n            setFeedback(entry);\n        }\n    }\n    catch (e_6_1) { e_6 = { error: e_6_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_6) throw e_6.error; }\n    }\n}\nfunction setFeedback(entry) {\n    entry[FC.FeedbackStatus] = 0;\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.harvest = exports.init = exports.updateAccess = exports.access = exports.backwardBtn = exports.forwardBtn = void 0;\nvar Buttons = (function () {\n    function Buttons(direction) {\n        var e_1, _a;\n        this.direction = direction;\n        this.span = Buttons.createElement('btns');\n        this.f = Buttons.createElement('btn f', this.direction + ' ' + 'element');\n        this.ff = Buttons.createElement('btn ff', this.direction + ' ' + 'unchanged element');\n        this.fff = Buttons.createElement('btn fff', this.direction + ' ' + 'unviewed element');\n        this.span.id = direction;\n        var order = direction === 'next' ? [this.f, this.ff, this.fff] :\n            [this.fff, this.ff, this.f];\n        try {\n            for (var order_1 = __values(order), order_1_1 = order_1.next(); !order_1_1.done; order_1_1 = order_1.next()) {\n                var span = order_1_1.value;\n                span.classList.add(direction);\n                span.setAttribute('tabindex', '0');\n                this.span.appendChild(span);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (order_1_1 && !order_1_1.done && (_a = order_1.return)) _a.call(order_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        this.hide();\n    }\n    Buttons.createElement = function (cls, title) {\n        if (title === void 0) { title = ''; }\n        var element = document.createElement('span');\n        element.className = cls;\n        if (title) {\n            element.title = title;\n            element.setAttribute('aria-label', title);\n        }\n        return element;\n    };\n    Buttons.prototype.show = function () {\n        this.f.classList.remove('hidden');\n        this.ff.classList.remove('hidden');\n        this.fff.classList.remove('hidden');\n    };\n    Buttons.prototype.hide = function () {\n        this.f.classList.add('hidden');\n        this.ff.classList.add('hidden');\n        this.fff.classList.add('hidden');\n    };\n    return Buttons;\n}());\nvar Access = (function () {\n    function Access() {\n        this.anchor = Buttons.createElement('btn center', 'access');\n        this.select = document.createElement('select');\n        this.select.id = 'access';\n        this.select.classList.add('access');\n        this.anchor.appendChild(this.select);\n    }\n    Access.prototype.init = function (test) {\n        var e_2, _a;\n        var _this = this;\n        this.test = test;\n        this.select.addEventListener('change', function (e) {\n            _this.test.goTest(e.target.value);\n        });\n        try {\n            for (var _b = __values(this.test.order), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var name_1 = _c.value;\n                var option = document.createElement('option');\n                option.setAttribute('value', name_1);\n                option.classList.add('access');\n                option.textContent = name_1;\n                this.select.appendChild(option);\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        this.update();\n    };\n    Access.prototype.update = function () {\n        this.select.value = this.test.currentTest().name;\n    };\n    return Access;\n}());\nexports.forwardBtn = new Buttons('next');\nexports.backwardBtn = new Buttons('previous');\nexports.access = new Access();\nfunction addListener(button, method) {\n    button.addEventListener('click', method);\n    button.addEventListener('keyup', function (e) {\n        if (e.key === 'Enter') {\n            method(e);\n        }\n    });\n}\nfunction addListeners(test) {\n    var _this = this;\n    addListener(exports.backwardBtn.f, function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4, test.cycleTests(false)];\n            case 1: return [2, _a.sent()];\n        }\n    }); }); });\n    addListener(exports.backwardBtn.ff, function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4, test.cycleUnchangedTests(false)];\n            case 1: return [2, _a.sent()];\n        }\n    }); }); });\n    addListener(exports.backwardBtn.fff, function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4, test.cycleNewTests(false)];\n            case 1: return [2, _a.sent()];\n        }\n    }); }); });\n    addListener(exports.forwardBtn.f, function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4, test.cycleTests(true)];\n            case 1: return [2, _a.sent()];\n        }\n    }); }); });\n    addListener(exports.forwardBtn.ff, function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4, test.cycleUnchangedTests(true)];\n            case 1: return [2, _a.sent()];\n        }\n    }); }); });\n    addListener(exports.forwardBtn.fff, function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4, test.cycleNewTests(true)];\n            case 1: return [2, _a.sent()];\n        }\n    }); }); });\n}\nfunction updateAccess() {\n    exports.access.update();\n}\nexports.updateAccess = updateAccess;\nfunction init(test) {\n    addListeners(test);\n    var div = document.createElement('div');\n    div.classList.add('btns');\n    document.body.appendChild(div);\n    div.appendChild(exports.backwardBtn.span);\n    exports.backwardBtn.show();\n    exports.access.init(test);\n    div.appendChild(exports.access.anchor);\n    var up = Buttons.createElement('btn center', 'selection');\n    up.textContent = 'Selection';\n    up.setAttribute('tabindex', '0');\n    addListener(up, function () {\n        test.saveTest(test.getTest());\n        window.location.assign('selection.html');\n    });\n    div.appendChild(up);\n    div.appendChild(exports.forwardBtn.span);\n    exports.forwardBtn.show();\n}\nexports.init = init;\nfunction harvest(test, clear) {\n    if (clear === void 0) { clear = function () { }; }\n    addListeners(test);\n    var div = document.createElement('div');\n    div.classList.add('btns');\n    document.body.appendChild(div);\n    div.appendChild(exports.backwardBtn.span);\n    exports.backwardBtn.show();\n    exports.access.init(test);\n    div.appendChild(exports.access.anchor);\n    var up = Buttons.createElement('btn center', 'selection');\n    up.textContent = 'Save';\n    up.setAttribute('tabindex', '0');\n    addListener(up, function () {\n        test.saveTest(test.getTest());\n        clear();\n    });\n    div.appendChild(up);\n    div.appendChild(exports.forwardBtn.span);\n    exports.forwardBtn.show();\n}\nexports.harvest = harvest;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateMath = exports.initHarvest = exports.harvest = exports.changeFeedback = exports.changeFormat = exports.generatem = exports.generate = exports.init = exports.fireTest = void 0;\nvar FC = require(\"../firebase/fire_constants\");\nvar fire_test_1 = require(\"../firebase/fire_test\");\nvar BT = require(\"../generate/braille_transformer\");\nvar buttons_1 = require(\"./buttons\");\nvar LU = require(\"./local_util\");\nvar transformers = new Map([\n    ['NABT', new BT.Nabt2Unicode()],\n    ['BLDT', new BT.Bldt2Unicode()],\n    ['NABT-TABLE', new BT.Nabt2UnicodeTable()],\n    ['BLDT-TABLE', new BT.Bldt2UnicodeTable()],\n    ['SDF/JKL', new BT.Ascii2Braille('', '')],\n    ['1-6', new BT.Numeric2Braille('', '')]\n]);\nvar backtransformers = new Map([\n    ['NABT', new BT.Unicode2Nabt()],\n    ['BLDT', new BT.Unicode2Bldt()],\n    ['SDF/JKL', new BT.Braille2Ascii('', '')],\n    ['1-6', new BT.Braille2Numeric('', '')]\n]);\nvar kind = 'NABT';\nfunction transformer() {\n    return transformers.get(kind.toUpperCase());\n}\nfunction backtransformer() {\n    console.log(8);\n    console.log(kind.toUpperCase());\n    return backtransformers.get(kind.toUpperCase());\n}\nvar field = {};\nexports.fireTest = null;\nvar current = '';\nfunction setTest(test) {\n    field.mathname.innerHTML = test.name;\n    field.mathexpression.innerHTML = test.input ?\n        \"<math display=\\\"block\\\">\" + test.input + \"</math>\" : (test.tex ? \"\\\\[\" + test.tex + \"\\\\]\" : \"\" + test.name);\n    field.braille.innerHTML = test.expected;\n    field.input.value =\n        backtransformer().via(test.expected);\n    field.input.focus();\n    setReferences(test.reference);\n    setStatus(test[FC.Interaction]);\n    setFeedback(test[FC.FeedbackStatus]);\n    if (MathJax.typeset) {\n        MathJax.typeset();\n    }\n    buttons_1.updateAccess();\n}\nfunction setReferences(references) {\n    var e_1, _a, _b;\n    field.refname.innerHTML = '';\n    field.references.innerHTML = '';\n    if (!references) {\n        return;\n    }\n    var keys = Object.keys(references).sort(function (x, y) {\n        var numX = parseInt(x.split('-')[1], 10);\n        var numY = parseInt(y.split('-')[1], 10);\n        return numX < numY ? -1 : (numX > numY ? 1 : 0);\n    });\n    var size = keys.length;\n    if (!size) {\n        return;\n    }\n    field.refname.innerHTML = 'References:';\n    var links = [];\n    var makeRef = size > 10 ? optionReference : linkReference;\n    try {\n        for (var keys_1 = __values(keys), keys_1_1 = keys_1.next(); !keys_1_1.done; keys_1_1 = keys_1.next()) {\n            var id = keys_1_1.value;\n            var url = references[id];\n            links.push(makeRef(id, url));\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (keys_1_1 && !keys_1_1.done && (_a = keys_1.return)) _a.call(keys_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    if (size <= 10) {\n        (_b = field.references).append.apply(_b, __spreadArray([], __read(links)));\n        return;\n    }\n    var select = document.createElement('select');\n    select.setAttribute('onChange', 'window.open(this.value, \"_blank\")');\n    select.classList.add('access');\n    var option = document.createElement('option');\n    option.setAttribute('disabled', '');\n    option.setAttribute('selected', '');\n    option.textContent = 'Select:';\n    select.appendChild(option);\n    select.append.apply(select, __spreadArray([], __read(links)));\n    field.references.appendChild(select);\n}\nfunction linkReference(id, url) {\n    var link = document.createElement('a');\n    link.classList.add('reflink');\n    link.setAttribute('href', url);\n    link.setAttribute('target', '_blank');\n    link.textContent = id;\n    return link;\n}\nfunction optionReference(id, url) {\n    var option = document.createElement('option');\n    option.classList.add('access');\n    option.textContent = id;\n    option.value = url;\n    return option;\n}\nfunction setFeedback(feedback) {\n    if (feedback !== undefined) {\n        field.feedback.value = feedback.toString();\n    }\n}\nfunction setStatus(status) {\n    if (status !== undefined && field.statuscolor && field.statusvalue) {\n        switch (status) {\n            case 0:\n                field.statuscolor.className = 'green';\n                field.statusvalue.innerHTML = 'New';\n                break;\n            case 1:\n                field.statuscolor.className = 'yellow';\n                field.statusvalue.innerHTML = 'Viewed';\n                break;\n            case 2:\n                field.statuscolor.className = 'red';\n                field.statusvalue.innerHTML = 'Changed';\n                break;\n            default:\n                field.statuscolor.className = '';\n                field.statusvalue.innerHTML = '';\n        }\n    }\n}\nfunction getTest() {\n    return { expected: field.braille.innerHTML };\n}\nfunction initConversion(collection, file) {\n    if (firebase) {\n        initFile(collection, file);\n        return;\n    }\n    setTimeout(initConversion, 100);\n}\nfunction init() {\n    var path = LU.getStorage(FC.NemethProjectPath);\n    var user = LU.getStorage(FC.NemethProjectUser);\n    if (path && user) {\n        initConversion(user, path);\n    }\n}\nexports.init = init;\nfunction initFile(collection, file) {\n    return __awaiter(this, void 0, void 0, function () {\n        var db;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    db = firebase.app().firestore();\n                    exports.fireTest = new fire_test_1.FireTest(db, collection, file, getTest, setTest);\n                    return [4, exports.fireTest.prepareTests()];\n                case 1:\n                    _a.sent();\n                    fillField();\n                    buttons_1.init(exports.fireTest);\n                    exports.fireTest.setTest(exports.fireTest.currentTest());\n                    return [2];\n            }\n        });\n    });\n}\nfunction fillField() {\n    var nodes = document.evaluate('//*[@id]', document.body);\n    for (var node = nodes.iterateNext(); node; node = nodes.iterateNext()) {\n        field[node.id] = node;\n    }\n}\nfunction translate(str) {\n    var _a = __read(transformer().cleanInput(str), 2), input = _a[0], error = _a[1];\n    return [input, transformer().via(input), error];\n}\nfunction generate() {\n    var ip = field.input;\n    if (current === ip.value) {\n        return;\n    }\n    if (kind.toUpperCase() === 'SDF/JKL') {\n        collateKeys();\n    }\n    processKeys();\n}\nexports.generate = generate;\nvar collating = false;\nfunction collateKeys() {\n    if (collating) {\n        return;\n    }\n    collating = true;\n    setTimeout(function () {\n        collating = false;\n        processKeys();\n        var ip = field.input;\n        if (ip.value[ip.value.length - 1] !== ',') {\n            ip.value = ip.value + ',';\n        }\n    }, 100);\n}\nfunction processKeys() {\n    var ip = field.input;\n    var cursor = ip.selectionStart;\n    field.braille.innerHTML = '';\n    field.error.innerHTML = '';\n    var _a = __read(translate(ip.value), 3), input = _a[0], output = _a[1], error = _a[2];\n    if (error) {\n        field.error.innerHTML = 'Unknown ' +\n            (error.length > 1 ? 'elements ' : 'element ') + error;\n    }\n    if (input !== current) {\n        setStatus(2);\n    }\n    ip.value = input;\n    current = input;\n    output = output.split('\\n').join('<br>');\n    field.braille.innerHTML = output;\n    ip.selectionEnd = cursor - error.length;\n}\nfunction generatem() {\n    setTimeout(generate, 100);\n}\nexports.generatem = generatem;\nfunction changeFormat() {\n    exports.fireTest.saveTest(exports.fireTest.getTest());\n    kind = field.format.value;\n    exports.fireTest.setTest(exports.fireTest.currentTest());\n}\nexports.changeFormat = changeFormat;\nfunction changeFeedback() {\n    var value = parseInt(field.feedback.value, 10);\n    exports.fireTest.currentTest()[FC.FeedbackStatus] = value;\n    exports.fireTest.saveFeedback(value);\n}\nexports.changeFeedback = changeFeedback;\nfunction harvest() {\n    var path = LU.getStorage(FC.NemethProjectPath);\n    var user = LU.getStorage(FC.NemethProjectUser);\n    if (path && user) {\n        initHarvest(user, path);\n    }\n}\nexports.harvest = harvest;\nfunction clearHarvest() {\n    field.mathinput.value = '';\n    field.input.value = '';\n    generateMath();\n    generate();\n}\nfunction initHarvest(user, path) {\n    return __awaiter(this, void 0, void 0, function () {\n        var db;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    db = firebase.app().firestore();\n                    exports.fireTest = new fire_test_1.FireTest(db, user, path, getTest, setTest);\n                    return [4, exports.fireTest.prepareTests()];\n                case 1:\n                    _a.sent();\n                    fillField();\n                    buttons_1.harvest(exports.fireTest, clearHarvest);\n                    console.log(path);\n                    console.log(user);\n                    return [2];\n            }\n        });\n    });\n}\nexports.initHarvest = initHarvest;\nvar currentMath = '';\nfunction generateMath() {\n    var ip = field.mathinput;\n    if (currentMath === ip.value) {\n        return;\n    }\n    currentMath = ip.value;\n    processMath(ip.value);\n}\nexports.generateMath = generateMath;\nfunction processMath(math) {\n    field.mathexpression.innerHTML = \"\\\\[\" + math + \"\\\\]\";\n    if (MathJax.typeset) {\n        MathJax.typeset();\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setStorage = exports.getStorage = exports.getFirebase = void 0;\nfunction getFirebase() {\n    return firebase;\n}\nexports.getFirebase = getFirebase;\nfunction getStorage(key) {\n    return localStorage.getItem(key);\n}\nexports.getStorage = getStorage;\nfunction setStorage(key, value) {\n    localStorage.setItem(key, value);\n}\nexports.setStorage = setStorage;\n","\"use strict\";\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getUid = exports.addDocuments = exports.addSection = void 0;\nvar fc = require(\"../firebase/fire_constants\");\nvar lu = require(\"./local_util\");\nfunction addSection(id, path, info, anchor) {\n    info = \"Select \" + info + \" to work on:\";\n    var hr = document.createElement('hr');\n    hr.setAttribute('style', 'width:100%;border-width:0;background-color:#B1DF84;color:#B1DF84;height:6px');\n    var outerDiv = document.createElement('div');\n    outerDiv.classList.add('converter');\n    outerDiv.id = id + 'table';\n    var innerDiv = document.createElement('div');\n    innerDiv.classList.add('section');\n    innerDiv.textContent = info;\n    var table = createTable(id, path);\n    outerDiv.append(innerDiv, table);\n    anchor.append(hr, outerDiv);\n}\nexports.addSection = addSection;\nfunction createTable(id, path) {\n    var table = document.createElement('table');\n    table.id = id;\n    var tr = document.createElement('tr');\n    tr.classList.add('heading');\n    tr.innerHTML = '<th>Name</th><th>Information</th><th>Path</th>';\n    table.appendChild(tr);\n    addDocuments(table, path);\n    return table;\n}\nfunction addDocuments(node, path) {\n    var storage = lu.getStorage(fc.NemethProjectDocuments);\n    if (storage) {\n        var documents = JSON.parse(storage);\n        createRows(documents.filter(function (doc) { return doc.path.match(path); }), node);\n    }\n}\nexports.addDocuments = addDocuments;\nfunction getUid() {\n    return lu.getFirebase().auth().getUid();\n}\nexports.getUid = getUid;\nfunction createRows(documents, anchor) {\n    var e_1, _a;\n    documents.sort(function (x, y) {\n        return ('' + x.name).localeCompare(y.name);\n    });\n    var _loop_1 = function (entry) {\n        var row = document.createElement('tr');\n        row.setAttribute('tabindex', '0');\n        row.classList.add('selection');\n        row.innerHTML = \"<td class=\\\"selection\\\">\" + entry.name + \"</td>\"\n            + (\"<td>\" + entry.information + \"</td><td>\" + entry.path + \"</td>\");\n        row.addEventListener('click', function () {\n            lu.setStorage(fc.NemethProjectPath, entry.path);\n            lu.setStorage(fc.NemethProjectUser, getUid());\n            window.location.assign('brf2nemeth.html');\n        });\n        row.addEventListener('keyup', function (e) {\n            if (e.key === 'Enter') {\n                lu.setStorage(fc.NemethProjectPath, entry.path);\n                lu.setStorage(fc.NemethProjectUser, getUid());\n                window.location.assign('brf2nemeth.html');\n            }\n        });\n        anchor.appendChild(row);\n    };\n    try {\n        for (var documents_1 = __values(documents), documents_1_1 = documents_1.next(); !documents_1_1.done; documents_1_1 = documents_1.next()) {\n            var entry = documents_1_1.value;\n            _loop_1(entry);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (documents_1_1 && !documents_1_1.done && (_a = documents_1.return)) _a.call(documents_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.init = void 0;\nvar fc = require(\"../firebase/fire_constants\");\nvar fu = require(\"../firebase/fire_util\");\nvar lu = require(\"./local_util\");\nfunction updateFirebase(db, collA, collB, doc) {\n    return __awaiter(this, void 0, void 0, function () {\n        var count, div, result;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    count = 0;\n                    div = document.createElement('div');\n                    document.body.appendChild(div);\n                    return [4, fu.updateCollection(db, collA, collB, doc, function (_x, y) {\n                            var span = document.createElement('span');\n                            span.textContent = '.';\n                            document.body.insertBefore(span, div);\n                            div.textContent = \"File (\" + ++count + \"/\" + y.length + \")\";\n                        })];\n                case 1:\n                    result = _a.sent();\n                    lu.setStorage(fc.NemethProjectDocuments, JSON.stringify(result));\n                    return [2];\n            }\n        });\n    });\n}\nfunction update(authResult) {\n    return __awaiter(this, void 0, void 0, function () {\n        var div;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    div = document.createElement('span');\n                    div.textContent = 'Updating.';\n                    document.body.appendChild(div);\n                    return [4, updateFirebase(lu.getFirebase().firestore(), fc.TestsCollection, authResult.user.uid, fc.NemethCollection)];\n                case 1:\n                    _a.sent();\n                    window.location.assign('selection.html');\n                    return [2];\n            }\n        });\n    });\n}\nvar uiConfig = {\n    callbacks: {\n        signInSuccessWithAuthResult: function (authResult) {\n            update(authResult);\n            return false;\n        },\n        uiShown: function () {\n            document.getElementById('loader').style.display = 'none';\n        }\n    },\n    signInSuccessUrl: 'brf2nemeth.html',\n    signInOptions: [\n        lu.getFirebase().auth.EmailAuthProvider.PROVIDER_ID\n    ],\n    tosUrl: 'privacy.html',\n    privacyPolicyUrl: 'privacy.html'\n};\nfunction init(fireui, id, config) {\n    if (config === void 0) { config = uiConfig; }\n    var ui = new fireui.auth.AuthUI(lu.getFirebase().auth());\n    ui.start(id, config);\n}\nexports.init = init;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.init = exports.addSpan = exports.deleteAccount = exports.handleSignedOutUser = exports.handleSignedInUser = void 0;\nfunction handleSignedInUser(user) {\n    document.getElementById('user-signed-in').style.display = 'inline';\n    document.getElementById('name').textContent = user.displayName;\n    document.getElementById('email').textContent = user.email;\n}\nexports.handleSignedInUser = handleSignedInUser;\nfunction handleSignedOutUser() {\n    document.getElementById('user-signed-in').style.display = 'none';\n    window.location.replace('.');\n}\nexports.handleSignedOutUser = handleSignedOutUser;\nfunction deleteAccount() {\n    if (window.confirm('Are you sure you want to delete your account?')) {\n        firebase.auth().currentUser.delete().catch(function (error) {\n            if (error.code === 'auth/requires-recent-login') {\n                firebase.auth().signOut().then(function () {\n                    setTimeout(function () {\n                        alert('Please sign in again to delete your account.');\n                    }, 1);\n                });\n            }\n        });\n    }\n}\nexports.deleteAccount = deleteAccount;\nfunction addSpan() {\n    var span = document.createElement('span');\n    var inner = '<span id=\"user-signed-in\" class=\"hidden\">';\n    inner += '<span id=\"user-info\"><span id=\"name\"></span>';\n    inner += '(<span id=\"email\"></span>)<div>';\n    inner += '<span><button id=\"sign-out\">Sign Out</button></span>';\n    inner += '<span><button id=\"delete-account\">Delete account</button></span>';\n    inner += '</div></span></span>';\n    span.innerHTML = inner;\n    document.body.appendChild(span);\n    document.getElementById('sign-out').addEventListener('click', function () {\n        firebase.auth().signOut();\n    });\n    document.getElementById('delete-account').addEventListener('click', function () {\n        deleteAccount();\n    });\n}\nexports.addSpan = addSpan;\nfunction init() {\n    addSpan();\n    firebase.auth().onAuthStateChanged(function (user) {\n        user ? handleSignedInUser(user) : handleSignedOutUser();\n    });\n}\nexports.init = init;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Braille2Ascii = exports.Braille2Numeric = exports.Ascii2Braille = exports.Numeric2Braille = exports.Unicode2Bldt = exports.Unicode2Nabt = exports.Bldt2UnicodeTable = exports.Nabt2UnicodeTable = exports.Bldt2Unicode = exports.Nabt2Unicode = void 0;\nvar transformers_1 = require(\"./transformers\");\nvar BrfTransformer = (function (_super) {\n    __extends(BrfTransformer, _super);\n    function BrfTransformer(src, dst) {\n        var _this = _super.call(this, src, dst) || this;\n        _this.translate = new Map();\n        _this.setupMap();\n        return _this;\n    }\n    BrfTransformer.getFormat = function (kind) {\n        return (kind.toUpperCase().match(/^BLDT/) ? BrfTransformer.format.BLDT :\n            BrfTransformer.format.NABT);\n    };\n    BrfTransformer.prototype.via = function (src) {\n        var e_1, _a;\n        var result = '';\n        try {\n            for (var _b = __values(src.split('')), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var str = _c.value;\n                var dst = this.translate.get(str.toLowerCase());\n                if (!dst) {\n                    throw new Error('Illegal input character: ' + str);\n                }\n                result += dst;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return result;\n    };\n    BrfTransformer.prototype.cleanInput = function (str) {\n        var e_2, _a;\n        var input = [];\n        var error = [];\n        try {\n            for (var _b = __values(str.toLowerCase().split('')), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var char = _c.value;\n                if (this.translate.get(char) !== undefined) {\n                    input.push(char);\n                }\n                else {\n                    error.push(char);\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        return [input.join(''), error.join(', ')];\n    };\n    BrfTransformer.format = {\n        NABT: ' a1b\\'k2l@cif/msp\"e3h9o6r^djg>ntq,*5<-u8v.%[$+x!&;:4\\\\0z7(_?w]#y)=',\n        BLDT: ' a1b\\'k2l`cif/msp\"e3h9o6r~djg>ntq,*5<-u8v.%{$+x!&;:4|0z7(_?w}#y)='\n    };\n    return BrfTransformer;\n}(transformers_1.AbstractTransformer));\nvar Unicode2Brf = (function (_super) {\n    __extends(Unicode2Brf, _super);\n    function Unicode2Brf() {\n        var _this = _super.call(this, 'expected', '') || this;\n        _this.dst = _this.kind();\n        return _this;\n    }\n    Unicode2Brf.prototype.setupMap = function () {\n        var e_3, _a;\n        var count = 0;\n        try {\n            for (var _b = __values(BrfTransformer.getFormat(this.kind()).split('')), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var str = _c.value;\n                this.translate.set(String.fromCodePoint(0x2800 + count++), str);\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n    };\n    return Unicode2Brf;\n}(BrfTransformer));\nvar Brf2Unicode = (function (_super) {\n    __extends(Brf2Unicode, _super);\n    function Brf2Unicode() {\n        var _this = _super.call(this, '', 'expected') || this;\n        _this.src = _this.kind();\n        return _this;\n    }\n    Brf2Unicode.prototype.setupMap = function () {\n        var e_4, _a;\n        var count = 0;\n        try {\n            for (var _b = __values(BrfTransformer.getFormat(this.kind()).split('')), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var str = _c.value;\n                this.translate.set(str, String.fromCodePoint(0x2800 + count++));\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n    };\n    return Brf2Unicode;\n}(BrfTransformer));\nvar Nabt2Unicode = (function (_super) {\n    __extends(Nabt2Unicode, _super);\n    function Nabt2Unicode() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Nabt2Unicode.prototype.kind = function () {\n        return 'NABT';\n    };\n    return Nabt2Unicode;\n}(Brf2Unicode));\nexports.Nabt2Unicode = Nabt2Unicode;\nvar Bldt2Unicode = (function (_super) {\n    __extends(Bldt2Unicode, _super);\n    function Bldt2Unicode() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Bldt2Unicode.prototype.kind = function () {\n        return 'BLDT';\n    };\n    return Bldt2Unicode;\n}(Brf2Unicode));\nexports.Bldt2Unicode = Bldt2Unicode;\nvar Nabt2UnicodeTable = (function (_super) {\n    __extends(Nabt2UnicodeTable, _super);\n    function Nabt2UnicodeTable() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Nabt2UnicodeTable.prototype.kind = function () {\n        return 'NABT-TABLE';\n    };\n    Nabt2UnicodeTable.prototype.via = function (src) {\n        var e_5, _a;\n        var result = [];\n        try {\n            for (var _b = __values(src.split('\\n')), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var line = _c.value;\n                result.push(_super.prototype.via.call(this, line));\n            }\n        }\n        catch (e_5_1) { e_5 = { error: e_5_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_5) throw e_5.error; }\n        }\n        console.log(result.join('\\n'));\n        return result.join('\\n');\n    };\n    Nabt2UnicodeTable.prototype.cleanInput = function (str) {\n        var e_6, _a, e_7, _b;\n        console.log(5);\n        var input = [];\n        var error = [];\n        try {\n            for (var _c = __values(str.split('\\n')), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var line = _d.value;\n                try {\n                    for (var _e = (e_7 = void 0, __values(line.toLowerCase().split(''))), _f = _e.next(); !_f.done; _f = _e.next()) {\n                        var char = _f.value;\n                        if (this.translate.get(char) !== undefined) {\n                            input.push(char);\n                        }\n                        else {\n                            error.push(char);\n                        }\n                    }\n                }\n                catch (e_7_1) { e_7 = { error: e_7_1 }; }\n                finally {\n                    try {\n                        if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                    }\n                    finally { if (e_7) throw e_7.error; }\n                }\n                input.push('\\n');\n            }\n        }\n        catch (e_6_1) { e_6 = { error: e_6_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_6) throw e_6.error; }\n        }\n        input.pop();\n        return [input.join(''), error.join(', ')];\n    };\n    return Nabt2UnicodeTable;\n}(Nabt2Unicode));\nexports.Nabt2UnicodeTable = Nabt2UnicodeTable;\nvar Bldt2UnicodeTable = (function (_super) {\n    __extends(Bldt2UnicodeTable, _super);\n    function Bldt2UnicodeTable() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Bldt2UnicodeTable.prototype.kind = function () {\n        return 'BLDT-TABLE';\n    };\n    Bldt2UnicodeTable.prototype.via = function (src) {\n        var e_8, _a;\n        var result = [];\n        try {\n            for (var _b = __values(src.split('\\n')), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var line = _c.value;\n                result.push(_super.prototype.via.call(this, line));\n            }\n        }\n        catch (e_8_1) { e_8 = { error: e_8_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_8) throw e_8.error; }\n        }\n        console.log(result.join('\\n'));\n        return result.join('\\n');\n    };\n    Bldt2UnicodeTable.prototype.cleanInput = function (str) {\n        var e_9, _a, e_10, _b;\n        console.log(5);\n        var input = [];\n        var error = [];\n        try {\n            for (var _c = __values(str.split('\\n')), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var line = _d.value;\n                try {\n                    for (var _e = (e_10 = void 0, __values(line.toLowerCase().split(''))), _f = _e.next(); !_f.done; _f = _e.next()) {\n                        var char = _f.value;\n                        if (this.translate.get(char) !== undefined) {\n                            input.push(char);\n                        }\n                        else {\n                            error.push(char);\n                        }\n                    }\n                }\n                catch (e_10_1) { e_10 = { error: e_10_1 }; }\n                finally {\n                    try {\n                        if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                    }\n                    finally { if (e_10) throw e_10.error; }\n                }\n                input.push('\\n');\n            }\n        }\n        catch (e_9_1) { e_9 = { error: e_9_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_9) throw e_9.error; }\n        }\n        input.pop();\n        return [input.join(''), error.join(', ')];\n    };\n    return Bldt2UnicodeTable;\n}(Bldt2Unicode));\nexports.Bldt2UnicodeTable = Bldt2UnicodeTable;\nvar Unicode2Nabt = (function (_super) {\n    __extends(Unicode2Nabt, _super);\n    function Unicode2Nabt() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Unicode2Nabt.prototype.kind = function () {\n        return 'NABT';\n    };\n    return Unicode2Nabt;\n}(Unicode2Brf));\nexports.Unicode2Nabt = Unicode2Nabt;\nvar Unicode2Bldt = (function (_super) {\n    __extends(Unicode2Bldt, _super);\n    function Unicode2Bldt() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Unicode2Bldt.prototype.kind = function () {\n        return 'BLDT';\n    };\n    return Unicode2Bldt;\n}(Unicode2Brf));\nexports.Unicode2Bldt = Unicode2Bldt;\nvar FromMultikey = (function (_super) {\n    __extends(FromMultikey, _super);\n    function FromMultikey() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FromMultikey.prototype.via = function (str) {\n        return str.split(',').filter(function (x) { return x; }).\n            map(this.toBraille.bind(this)).join('');\n    };\n    return FromMultikey;\n}(BrfTransformer));\nvar ToMultikey = (function (_super) {\n    __extends(ToMultikey, _super);\n    function ToMultikey() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ToMultikey.prototype.via = function (str) {\n        return str.split('').map(this.fromBraille.bind(this)).join(',');\n    };\n    return ToMultikey;\n}(BrfTransformer));\nvar Numeric2Braille = (function (_super) {\n    __extends(Numeric2Braille, _super);\n    function Numeric2Braille() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Numeric2Braille.prototype.kind = function () {\n        return '1-6';\n    };\n    Numeric2Braille.numToBraille = function (list) {\n        var e_11, _a;\n        var duplicates = {};\n        var code = 0;\n        try {\n            for (var list_1 = __values(list), list_1_1 = list_1.next(); !list_1_1.done; list_1_1 = list_1.next()) {\n                var bit = list_1_1.value;\n                if (!duplicates[bit] && bit > 0 && bit < 9) {\n                    code += Math.pow(2, bit - 1);\n                }\n                duplicates[bit] = true;\n            }\n        }\n        catch (e_11_1) { e_11 = { error: e_11_1 }; }\n        finally {\n            try {\n                if (list_1_1 && !list_1_1.done && (_a = list_1.return)) _a.call(list_1);\n            }\n            finally { if (e_11) throw e_11.error; }\n        }\n        var base = parseInt('2800', 16);\n        return String.fromCodePoint(base + code);\n    };\n    Numeric2Braille.prototype.toBraille = function (str) {\n        return Numeric2Braille.numToBraille(str.split('')\n            .map(function (x) { return parseInt(x, 10); }).\n            filter(function (x) { return !isNaN(x); }));\n    };\n    Numeric2Braille.prototype.setupMap = function () {\n        for (var i = 0; i <= 8; i++) {\n            this.translate.set(i.toString(), 'T');\n        }\n        this.translate.set(',', 'T');\n    };\n    return Numeric2Braille;\n}(FromMultikey));\nexports.Numeric2Braille = Numeric2Braille;\nvar Ascii2Braille = (function (_super) {\n    __extends(Ascii2Braille, _super);\n    function Ascii2Braille() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Ascii2Braille.prototype.kind = function () {\n        return 'sdf/jkl';\n    };\n    Ascii2Braille.prototype.toBraille = function (str) {\n        var e_12, _a;\n        var legal = [];\n        try {\n            for (var _b = __values(str.split('')), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var char = _c.value;\n                var trans = parseInt(this.translate.get(char), 10);\n                if (!isNaN(trans)) {\n                    legal.push(trans);\n                }\n            }\n        }\n        catch (e_12_1) { e_12 = { error: e_12_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_12) throw e_12.error; }\n        }\n        return Numeric2Braille.numToBraille(legal);\n    };\n    Ascii2Braille.prototype.setupMap = function () {\n        this.translate = new Map([[',', 'T'], [' ', '0'], ['f', '1'], ['d', '2'],\n            ['s', '3'], ['j', '4'], ['k', '5'], ['l', '6']]);\n    };\n    return Ascii2Braille;\n}(Numeric2Braille));\nexports.Ascii2Braille = Ascii2Braille;\nvar Braille2Numeric = (function (_super) {\n    __extends(Braille2Numeric, _super);\n    function Braille2Numeric() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Braille2Numeric.prototype.kind = function () {\n        return '1-6';\n    };\n    Braille2Numeric.unicodeToNumber = function (char) {\n        var hex = char.codePointAt(0) - 0x2800;\n        if (!hex) {\n            return [0];\n        }\n        var result = [];\n        for (var i = 1; i <= 8; i++) {\n            var bit = hex % 2;\n            if (bit) {\n                result.push(i);\n            }\n            hex = Math.floor(hex / 2);\n        }\n        return result;\n    };\n    Braille2Numeric.prototype.fromBraille = function (str) {\n        return Braille2Numeric.unicodeToNumber(str).join('');\n    };\n    Braille2Numeric.prototype.setupMap = function () {\n        for (var i = 0; i <= 0xFF; i++) {\n            this.translate.set(String.fromCodePoint(0x2800 + i), 'T');\n        }\n    };\n    return Braille2Numeric;\n}(ToMultikey));\nexports.Braille2Numeric = Braille2Numeric;\nvar Braille2Ascii = (function (_super) {\n    __extends(Braille2Ascii, _super);\n    function Braille2Ascii() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.trans = {\n            0: ' ', 1: 'f', 2: 'd', 3: 's', 4: 'j', 5: 'k', 6: 'l', 7: '', 8: ''\n        };\n        return _this;\n    }\n    Braille2Ascii.prototype.kind = function () {\n        return 'sdf/jkl';\n    };\n    Braille2Ascii.prototype.fromBraille = function (str) {\n        var _this = this;\n        return Braille2Numeric.unicodeToNumber(str)\n            .map(function (x) { return _this.trans[x]; }).join('');\n    };\n    Braille2Ascii.prototype.setupMap = function () {\n        for (var i = 0; i <= 0x3F; i++) {\n            this.translate.set(String.fromCodePoint(0x2800 + i), 'T');\n        }\n    };\n    Braille2Ascii.prototype.via = function (str) {\n        return _super.prototype.via.call(this, str) + ',';\n    };\n    return Braille2Ascii;\n}(Braille2Numeric));\nexports.Braille2Ascii = Braille2Ascii;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractTransformer = void 0;\nvar AbstractTransformer = (function () {\n    function AbstractTransformer(src, dst) {\n        this.src = src;\n        this.dst = dst;\n    }\n    AbstractTransformer.prototype.via = function (src) {\n        return src;\n    };\n    return AbstractTransformer;\n}());\nexports.AbstractTransformer = AbstractTransformer;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Signin = exports.User = exports.Select = exports.Convert = void 0;\nvar convert = require(\"./convert\");\nvar select = require(\"./selection\");\nvar signin = require(\"./signin\");\nvar user = require(\"./user\");\nexports.Convert = convert;\nexports.Select = select;\nexports.User = user;\nexports.Signin = signin;\n"],"sourceRoot":""}